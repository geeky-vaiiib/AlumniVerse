"use strict";(()=>{var e={};e.id=390,e.ids=[390],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},9691:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>_,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var o={};t.r(o),t.d(o,{GET:()=>p,POST:()=>c});var s=t(3278),i=t(5002),a=t(4877),n=t(5932),u=t(1309);let l=(0,n.eI)("https://flcgwqlabywhoulqalaz.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("auth_id");if(!t)return u.NextResponse.json({error:"auth_id parameter is required"},{status:400});console.log("Profile check: Looking for profile with auth_id:",t);let{data:o,error:s}=await l.from("users").select("id, auth_id, email, first_name, last_name, profile_completed, created_at, updated_at").eq("auth_id",t).maybeSingle();if(s)return console.error("Profile check error:",s),u.NextResponse.json({error:"Database error",details:s.message},{status:500});if(!o)return console.log("Profile check: No profile found for auth_id:",t),u.NextResponse.json({exists:!1,message:"Profile not found",auth_id:t},{status:404});return console.log("Profile check: Profile found:",{id:o.id,auth_id:o.auth_id,email:o.email,profile_completed:o.profile_completed}),u.NextResponse.json({exists:!0,profile:o,message:"Profile found successfully"})}catch(e){return console.error("Profile check API error:",e),u.NextResponse.json({error:"Internal Server Error",details:e.message},{status:500})}}async function c(){return u.NextResponse.json({error:"Method not allowed"},{status:405})}let d=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/profile/check/route",pathname:"/api/profile/check",filename:"route",bundlePath:"app/api/profile/check/route"},resolvedPagePath:"/Users/vaibhavjp/Downloads/AlumniVerse/app/api/profile/check/route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:h,serverHooks:m}=d,x="/api/profile/check/route";function _(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[787,833,932],()=>t(9691));module.exports=o})();