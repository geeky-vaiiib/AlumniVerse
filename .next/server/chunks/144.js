"use strict";exports.id=144,exports.ids=[144],exports.modules={1144:(e,s,a)=>{a.d(s,{Z:()=>_});var t=a(7247),r=a(8964),i=a(4178),l=a(7757),n=a(8053),o=a(6991),c=a(8622),d=a(5389),m=a(3279);function u({onStepChange:e}){let{signInWithPassword:s,signInWithOTP:a,isReady:i}=(0,m.a)(),[u,h]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[j,N]=(0,r.useState)(0),[w,y]=(0,r.useState)("password"),D=(e,s)=>{"email"===e?h(s):"password"===e&&g(s),p&&f("")},E=()=>u.trim()?u.endsWith("@sit.ac.in")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)?!!("password"!==w||x.trim())||(f("Password is required"),!1):(f("Please enter a valid email address"),!1):(f("Please use your SIT institutional email (@sit.ac.in)"),!1):(f("Email is required"),!1),B=async t=>{if(t.preventDefault(),j>0){f(`Please wait ${j} seconds before trying again`);return}if(E()){v(!0),f("");try{if(!i){f("Authentication service is not available. Please try again.");return}if("password"===w){console.log("Signing in with password for:",u);let{data:e,error:a}=await s(u.trim().toLowerCase(),x);if(a){console.error("Password login error:",a),"invalid_credentials"===a.code?f("Invalid email or password. If you signed up with OTP only, try 'Sign in with OTP'."):a.message?.includes("Email not confirmed")?f("Please verify your email address first."):a.message?.includes("rate limit")?(f("Too many attempts. Please wait before trying again."),N(60)):f(a.message||"Login failed");return}console.log("Password login successful, redirecting to dashboard...")}else{console.log("Sending login OTP to:",u);let{data:s,error:t}=await a(u.trim().toLowerCase());if(t){console.error("OTP login error:",t),t.message?.includes("not found")||t.message?.includes("invalid")?f("No account found with this email. Please sign up first."):t.message?.includes("rate limit")?(f("Too many attempts. Please wait before trying again."),N(60)):f(t.message||"Failed to send verification code");return}console.log("Login OTP sent successfully:",s),sessionStorage.setItem("pendingVerificationEmail",u.trim().toLowerCase()),N(18),e("otp-verification",{email:u.trim().toLowerCase(),isSignUp:!1})}}catch(e){console.error("Unexpected error:",e),f("An unexpected error occurred. Please try again.")}finally{v(!1)}}};return t.jsx("div",{className:"flex items-center justify-center p-4 py-12",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md bg-surface border-border shadow-2xl",children:[(0,t.jsxs)(l.Ol,{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-[#4A90E2]/10 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-8 h-8 text-[#4A90E2]"})}),t.jsx(l.ll,{className:"text-2xl font-bold text-white",children:"Welcome Back"}),t.jsx(l.SZ,{className:"text-[#B0B0B0]",children:"Sign in to your AlumniVerse account"})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex bg-[#404040] rounded-lg p-1",children:[t.jsx("button",{type:"button",onClick:()=>y("password"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${"password"===w?"bg-[#4A90E2] text-white":"text-[#B0B0B0] hover:text-white"}`,children:"Password"}),t.jsx("button",{type:"button",onClick:()=>y("otp"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all ${"otp"===w?"bg-[#4A90E2] text-white":"text-[#B0B0B0] hover:text-white"}`,children:"OTP"})]}),(0,t.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"SIT Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#B0B0B0]"}),t.jsx(o.I,{type:"email",value:u,onChange:e=>D("email",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2] pl-10",placeholder:"your.email@sit.ac.in",disabled:b})]})]}),"password"===w&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"Password"}),t.jsx(o.I,{type:"password",value:x,onChange:e=>D("password",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2]",placeholder:"Enter your password",disabled:b})]}),p&&t.jsx("p",{className:"text-red-400 text-sm",children:p}),t.jsx(n.z,{type:"submit",disabled:b||j>0,className:"w-full h-12 text-base font-semibold bg-[#4A90E2] hover:bg-[#4A90E2]/90 transition-all duration-200",children:b?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"password"===w?"Signing in...":"Sending code..."]}):j>0?`Wait ${j}s`:"password"===w?"Sign In":"Send Verification Code"})]}),t.jsx("div",{className:"bg-[#4A90E2]/10 border border-[#4A90E2]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(d.Z,{className:"w-5 h-5 text-[#4A90E2] mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("h4",{className:"text-sm font-medium text-[#4A90E2]",children:"password"===w?"Password Login":"OTP Login"}),t.jsx("p",{className:"text-xs text-[#B0B0B0]",children:"password"===w?"Sign in with the password you set during registration.":"We'll send a 6-digit verification code to your email."})]})]})}),t.jsx("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-[#B0B0B0] text-sm",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("signup"),className:"text-[#4A90E2] hover:underline font-medium",disabled:b,children:"Sign up"})]})}),t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-[#808080] text-xs",children:"Having trouble? Make sure you're using your SIT institutional email address."})})]})]})})}var h=a(8406),x=a(457),g=a(9311);let p=(0,g.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var f=a(5800);function b({onStepChange:e}){let{signUpWithOTP:s,signUpWithPassword:a,isReady:i,error:d}=(0,m.a)(),[u,g]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[b,v]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),[B,S]=(0,r.useState)({}),[A,P]=(0,r.useState)(!1),[k,C]=(0,r.useState)(0),I=(e,s)=>{g(a=>({...a,[e]:s})),B[e]&&S(s=>({...s,[e]:""}))},U=()=>{let e={};return u.firstName.trim()||(e.firstName="First name is required"),u.lastName.trim()||(e.lastName="Last name is required"),u.email.trim()||(e.email="Email is required"),u.email&&!u.email.endsWith("@sit.ac.in")&&(e.email="Please use your SIT institutional email (@sit.ac.in)"),u.email.endsWith("@sit.ac.in")&&!b&&(e.email="Invalid SIT email format. Please use format: 1si23cs001@sit.ac.in"),u.password?u.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",u.confirmPassword?u.password!==u.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",S(e),0===Object.keys(e).length},F=async t=>{if(t.preventDefault(),k>0){S({submit:`Please wait ${k} seconds before trying again`});return}if(U()){P(!0),S({});try{let t={first_name:u.firstName.trim(),last_name:u.lastName.trim(),usn:b?.usn||"",branch:b?.branch||"",joining_year:b?.joiningYear||null,passing_year:b?.passingYear||null,branch_code:b?.branchCode||""};if(console.log("Sending OTP with metadata:",t),!i){S({submit:"Authentication service is not available. Please try again."});return}let{data:r,error:l}=await a(u.email.trim().toLowerCase(),u.password,t);if(l){console.error("Signup error:",l),l.message?.includes("already registered")||l.message?.includes("User already registered")?S({email:"This email is already registered. Please use the 'Sign In' option instead."}):429===l.status||/rate limit|Too Many Requests/i.test(l.message||"")?(S({submit:"Too many attempts. Please wait before trying again."}),C(60)):S({submit:l.message||"Failed to create account"});return}console.log("Account created successfully, sending OTP..."),await s(u.email.trim().toLowerCase(),t),sessionStorage.setItem("pendingVerificationEmail",u.email.trim().toLowerCase()),sessionStorage.setItem("pendingFirstName",u.firstName.trim()),sessionStorage.setItem("pendingLastName",u.lastName.trim()),b&&(sessionStorage.setItem("pendingUSN",b.usn||""),sessionStorage.setItem("pendingBranch",b.branch||""),sessionStorage.setItem("pendingJoiningYear",b.joiningYear||""),sessionStorage.setItem("pendingPassingYear",b.passingYear||"")),C(18),e("otp-verification",{email:u.email.trim().toLowerCase(),firstName:u.firstName.trim(),lastName:u.lastName.trim(),isSignUp:!0,userData:t})}catch(e){e&&(e.message||e.code||Object.keys(e).length>0)&&console.error("Unexpected error:",e),S({submit:"An unexpected error occurred. Please try again."})}finally{P(!1)}}};return t.jsx("div",{className:"flex items-center justify-center p-4 py-12",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md bg-surface border-border shadow-2xl",children:[(0,t.jsxs)(l.Ol,{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-[#4A90E2]/10 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-8 h-8 text-[#4A90E2]"})}),t.jsx(l.ll,{className:"text-2xl font-bold text-white",children:"Join AlumniVerse"}),t.jsx(l.SZ,{className:"text-[#B0B0B0]",children:"Connect with your SIT alumni network"})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"First Name"}),t.jsx(o.I,{type:"text",value:u.firstName,onChange:e=>I("firstName",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2]",placeholder:"Enter your first name",disabled:A}),B.firstName&&t.jsx("p",{className:"text-red-400 text-sm",children:B.firstName})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"Last Name"}),t.jsx(o.I,{type:"text",value:u.lastName,onChange:e=>I("lastName",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2]",placeholder:"Enter your last name",disabled:A}),B.lastName&&t.jsx("p",{className:"text-red-400 text-sm",children:B.lastName})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"SIT Email Address"}),t.jsx(o.I,{type:"email",value:u.email,onChange:e=>I("email",e.target.value),onBlur:()=>{N(!0);let e=(u.email||"").trim().toLowerCase();if(e){if(e.endsWith("@sit.ac.in")){let s=(0,f.zA)(e);s?.isValid?(v(s),S(e=>({...e,email:""}))):(v(null),S(e=>({...e,email:s?.error||"Invalid institutional email"})))}else v(null),S(e=>({...e,email:"Please use your SIT institutional email (@sit.ac.in)"}))}},className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2]",placeholder:"1si23cs001@sit.ac.in",disabled:A}),B.email&&t.jsx("p",{className:"text-red-400 text-sm",children:B.email})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(o.I,{type:w?"text":"password",value:u.password,onChange:e=>I("password",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2] pr-10",placeholder:"Create a strong password",disabled:A}),t.jsx("button",{type:"button",onClick:()=>y(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#B0B0B0] hover:text-white",children:w?t.jsx(h.Z,{className:"w-4 h-4"}):t.jsx(x.Z,{className:"w-4 h-4"})})]}),B.password&&t.jsx("p",{className:"text-red-400 text-sm",children:B.password})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(o.I,{type:D?"text":"password",value:u.confirmPassword,onChange:e=>I("confirmPassword",e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2] pr-10",placeholder:"Confirm your password",disabled:A}),t.jsx("button",{type:"button",onClick:()=>E(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#B0B0B0] hover:text-white",children:D?t.jsx(h.Z,{className:"w-4 h-4"}):t.jsx(x.Z,{className:"w-4 h-4"})})]}),B.confirmPassword&&t.jsx("p",{className:"text-red-400 text-sm",children:B.confirmPassword})]}),b&&(0,t.jsxs)("div",{className:"bg-[#4A90E2]/10 border border-[#4A90E2]/30 rounded-lg p-4 space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-[#4A90E2]",children:"Detected Information:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-[#E0E0E0]",children:[(0,t.jsxs)("div",{children:["USN: ",t.jsx("span",{className:"text-[#4A90E2]",children:b.usn})]}),(0,t.jsxs)("div",{children:["Branch: ",t.jsx("span",{className:"text-[#4A90E2]",children:b.branch})]}),(0,t.jsxs)("div",{children:["Joining: ",t.jsx("span",{className:"text-[#4A90E2]",children:b.joiningYear})]}),(0,t.jsxs)("div",{children:["Passing: ",t.jsx("span",{className:"text-[#4A90E2]",children:b.passingYear})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#4A90E2]/10 border border-[#4A90E2]/30 rounded-lg p-4 flex items-start space-x-3",children:[t.jsx(p,{className:"w-5 h-5 text-[#4A90E2] mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("h4",{className:"text-sm font-medium text-[#4A90E2]",children:"Email Verification Required"}),t.jsx("p",{className:"text-xs text-[#B0B0B0]",children:"After creating your account, we'll send a verification code to your email to confirm your identity."})]})]}),t.jsx(n.z,{type:"submit",disabled:A||k>0,className:"w-full h-12 text-base font-semibold bg-[#4A90E2] hover:bg-[#4A90E2]/90 transition-all duration-200",children:A?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating account..."]}):k>0?`Wait ${k}s`:"Create Account"}),B.submit&&t.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:t.jsx("p",{className:"text-red-400 text-sm",children:B.submit})})]}),t.jsx("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-[#B0B0B0] text-sm",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>e("signin"),className:"text-[#4A90E2] hover:underline font-medium",disabled:A,children:"Sign in"})]})})]})]})})}var v=a(2752);let j=(0,g.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var N=a(906);function w({email:e,firstName:s,lastName:a,isSignUp:c=!1,userData:u={},onStepChange:h}){let x=(0,i.useRouter)(),{verifyOTP:g,signUpWithOTP:p,signInWithOTP:f,isReady:b}=(0,m.a)(),{toast:w}=(0,N.pm)(),[y,D]=(0,r.useState)(["","","","","",""]),[E,B]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),[P,k]=(0,r.useState)(60),[C,I]=(0,r.useState)(!1),[U,F]=(0,r.useState)(""),[Z,_]=(0,r.useState)(""),[L,T]=(0,r.useState)(0),[Y,R]=(0,r.useState)(0),M=(0,r.useRef)([]),O=(e,s)=>{if(!/^\d*$/.test(s))return;let a=[...y];a[e]=s,D(a),F(""),s&&e<5&&M.current[e+1]?.focus()},$=(e,s)=>{if("Backspace"===s.key&&!y[e]&&e>0){M.current[e-1]?.focus();return}"v"===s.key&&(s.ctrlKey||s.metaKey)&&(s.preventDefault(),navigator.clipboard.readText().then(e=>{let s=e.replace(/\D/g,"").slice(0,6);6===s.length&&(D(s.split("")),M.current[5]?.focus())}))},z=async()=>{let t=y.join("");if(6!==t.length){F("Please enter the complete 6-digit code");return}if(L>=3){F("Too many attempts. Please wait before trying again."),R(30);return}B(!0),F("");try{if(console.log("Verifying OTP via Supabase:",{email:e}),!b){F("Authentication service is not available. Please try again.");return}let{data:r,error:i}=await g(e,t,{first_name:s,last_name:a,usn:u?.usn,branch:u?.branch,branch_code:u?.branch_code,admission_year:u?.joining_year,passing_year:u?.passing_year});!i&&r&&r.user?(_("✅ Email verified successfully!"),w({title:"Verification Successful! \uD83C\uDF89",description:"Your email has been verified. Redirecting...",variant:"default"}),setTimeout(()=>{console.log("OTP verification successful"),sessionStorage.removeItem("pendingVerificationEmail"),sessionStorage.removeItem("pendingFirstName"),sessionStorage.removeItem("pendingLastName"),sessionStorage.removeItem("pendingUSN"),sessionStorage.removeItem("pendingBranch"),sessionStorage.removeItem("pendingJoiningYear"),sessionStorage.removeItem("pendingPassingYear"),window.location.href="/dashboard"},1500)):(T(e=>e+1),F(i?.message||"Verification failed. Please check your code and try again."),D(["","","","","",""]),M.current[0]?.focus())}catch(e){console.error("OTP verification error:",e),T(e=>e+1),F("Verification failed. Please try again."),D(["","","","","",""]),M.current[0]?.focus()}finally{B(!1)}},V=async()=>{if(C&&!S){A(!0),F("");try{if(!b){F("Authentication service is not available. Please try again.");return}let{data:s,error:a}=c?await p(e,u):await f(e);!a&&s?(_("✅ New code sent to your email!"),k(60),I(!1),T(0),setTimeout(()=>_(""),3e3)):F(a?.message||"Failed to resend code. Please try again.")}catch(e){console.error("Resend OTP error:",e),F("Failed to resend code. Please try again.")}finally{A(!1)}}};return t.jsx("div",{className:"flex items-center justify-center p-4 py-12",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md bg-surface border-border",children:[(0,t.jsxs)(l.Ol,{className:"text-center space-y-2",children:[t.jsx("div",{className:"mx-auto w-12 h-12 bg-[#4A90E2]/20 rounded-full flex items-center justify-center mb-4",children:t.jsx(d.Z,{className:"w-6 h-6 text-[#4A90E2]"})}),t.jsx(l.ll,{className:"text-2xl font-bold text-white",children:"Verify Your Email"}),(0,t.jsxs)(l.SZ,{className:"text-[#B0B0B0]",children:["We've sent a 6-digit code to",t.jsx("br",{}),t.jsx("span",{className:"font-medium text-[#4A90E2]",children:e})]})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center space-x-3",children:y.map((e,s)=>t.jsx(o.I,{ref:e=>M.current[s]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>O(s,e.target.value),onKeyDown:e=>$(s,e),className:"w-12 h-12 text-center text-xl font-bold bg-[#1A1A1A] border-[#404040] text-white focus:border-[#4A90E2] focus:ring-[#4A90E2]/20",disabled:E},s))}),U&&t.jsx("div",{className:"text-red-400 text-sm text-center bg-red-400/10 border border-red-400/20 rounded-lg p-3",children:U}),Z&&(0,t.jsxs)("div",{className:"text-green-400 text-sm text-center bg-green-400/10 border border-green-400/20 rounded-lg p-3 flex items-center justify-center space-x-2",children:[t.jsx(v.Z,{className:"w-4 h-4"}),t.jsx("span",{children:Z})]}),t.jsx(n.z,{onClick:z,disabled:E||6!==y.join("").length||Y>0,className:"w-full bg-[#4A90E2] hover:bg-[#357ABD] text-white font-medium py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:E?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{children:"Verifying..."})]}):Y>0?`Wait ${Y}s`:"Verify Email"}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-[#B0B0B0] text-sm",children:"Didn't receive the code?"}),t.jsx(n.z,{variant:"ghost",onClick:V,disabled:!C||S,className:"text-[#4A90E2] hover:text-[#357ABD] hover:bg-[#4A90E2]/10 font-medium",children:S?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-[#4A90E2]/30 border-t-[#4A90E2] rounded-full animate-spin"}),t.jsx("span",{children:"Sending..."})]}):C?"Resend Code":`Resend in ${P}s`})]}),(0,t.jsxs)(n.z,{variant:"ghost",onClick:()=>{h?h("login"):x.push("/login")},className:"w-full text-[#B0B0B0] hover:text-white hover:bg-[#404040] flex items-center justify-center space-x-2",children:[t.jsx(j,{className:"w-4 h-4"}),t.jsx("span",{children:"Back to Login"})]})]})]})})}var y=a(4538),D=a(4494),E=a(1331),B=a(5271),S=a(2310),A=a(1621);let P=(0,g.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),k=(0,g.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),C=(0,g.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),I=[{id:1,title:"Basic Information",icon:B.Z},{id:2,title:"Professional Details",icon:S.Z},{id:3,title:"Additional Information",icon:A.Z}];function U({userData:e,onComplete:s}){let{user:a}=(0,m.a)(),[i,c]=(0,r.useState)(1),[d,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)({}),[g,p]=(0,r.useState)({firstName:"",lastName:"",email:"",branch:"",joiningYear:"",passingYear:"",usn:"",currentCompany:"",designation:"",location:"",linkedinUrl:"",githubUrl:"",leetcodeUrl:"",resumeFile:null,resumeUrl:"",skills:"",bio:"",achievements:"",interests:"",mentorshipAvailable:!1,jobReferralsAvailable:!1}),f=(e,s)=>{p(a=>({...a,[e]:s})),h[e]&&x(s=>({...s,[e]:""}))},b=e=>{let s={};switch(e){case 1:g.firstName.trim()||(s.firstName="First name is required"),g.lastName.trim()||(s.lastName="Last name is required"),g.email.trim()||(s.email="Email is required"),g.branch.trim()||(s.branch="Branch is required"),g.passingYear||(s.passingYear="Passing year is required");break;case 2:g.linkedinUrl&&!g.linkedinUrl.includes("linkedin.com")&&(s.linkedinUrl="Please enter a valid LinkedIn URL"),g.githubUrl&&!g.githubUrl.includes("github.com")&&(s.githubUrl="Please enter a valid GitHub URL"),g.leetcodeUrl&&!g.leetcodeUrl.includes("leetcode.com")&&(s.leetcodeUrl="Please enter a valid LeetCode URL")}return x(s),0===Object.keys(s).length},v=async()=>{if(b(i)){u(!0);try{let e=await fetch("/api/profile/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_id:a?.id,email:g.email,first_name:g.firstName,last_name:g.lastName,usn:g.usn,branch:g.branch,admission_year:g.joiningYear,passing_year:g.passingYear,company:g.currentCompany,current_position:g.designation,location:g.location,linkedin_url:g.linkedinUrl,github_url:g.githubUrl,bio:g.bio,skills:g.skills,profile_completed:!0})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to create profile");console.log("Profile created successfully via API:",t);let r=t.data||g;s(r)}catch(e){console.error("Profile creation failed:",e),x({submit:e.message||"Failed to create profile. Please try again."})}finally{u(!1)}}},N=i/I.length*100;return t.jsx("div",{className:"min-h-screen bg-[#1A1A1A] flex items-center justify-center p-4",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-2xl bg-[#2D2D2D] border-[#3D3D3D]",children:[(0,t.jsxs)(l.Ol,{className:"text-center",children:[t.jsx(l.ll,{className:"text-2xl font-bold text-white mb-2",children:"Complete Your Profile"}),(0,t.jsxs)(l.SZ,{className:"text-[#B0B0B0]",children:["Step ",i," of ",I.length,": ",I[i-1].title]}),(0,t.jsxs)("div",{className:"mt-4",children:[t.jsx(E.E,{value:N,className:"h-2 bg-[#3D3D3D]"}),t.jsx("div",{className:"flex justify-between mt-2",children:I.map((e,s)=>{let a=e.icon,r=i>e.id,l=i===e.id;return(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r?"bg-[#4A90E2] text-white":l?"bg-[#4A90E2]/20 text-[#4A90E2] border-2 border-[#4A90E2]":"bg-[#3D3D3D] text-[#B0B0B0]"}`,children:r?t.jsx(P,{className:"w-4 h-4"}):t.jsx(a,{className:"w-4 h-4"})}),t.jsx("span",{className:`text-xs mt-1 ${l?"text-[#4A90E2]":"text-[#B0B0B0]"}`,children:e.title})]},e.id)})})]})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[1===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"firstName",className:"text-white",children:"First Name *"}),t.jsx(o.I,{id:"firstName",value:g.firstName,onChange:e=>f("firstName",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Enter your first name"}),h.firstName&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.firstName})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"lastName",className:"text-white",children:"Last Name *"}),t.jsx(o.I,{id:"lastName",value:g.lastName,onChange:e=>f("lastName",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Enter your last name"}),h.lastName&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.lastName})]})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"email",className:"text-white",children:"Email *"}),t.jsx(o.I,{id:"email",type:"email",value:g.email,onChange:e=>f("email",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"your.email@sit.ac.in",disabled:!0}),h.email&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.email})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(y._,{htmlFor:"branch",className:"text-white",children:["Branch * ",t.jsx("span",{className:"text-xs text-[#B0B0B0]",children:"(Auto-extracted from email)"})]}),t.jsx(o.I,{id:"branch",value:g.branch,onChange:e=>f("branch",e.target.value),className:"bg-[#2D2D2D] border-[#4D4D4D] text-white cursor-not-allowed opacity-75",placeholder:"Computer Science",disabled:!0,readOnly:!0}),h.branch&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.branch})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(y._,{htmlFor:"passingYear",className:"text-white",children:["Passing Year * ",t.jsx("span",{className:"text-xs text-[#B0B0B0]",children:"(Auto-extracted from email)"})]}),t.jsx(o.I,{id:"passingYear",type:"number",value:g.passingYear,onChange:e=>f("passingYear",parseInt(e.target.value)),className:"bg-[#2D2D2D] border-[#4D4D4D] text-white cursor-not-allowed opacity-75",placeholder:"2024",min:"2000",max:"2030",disabled:!0,readOnly:!0}),h.passingYear&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.passingYear})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(y._,{htmlFor:"usn",className:"text-white",children:["USN ",t.jsx("span",{className:"text-xs text-[#B0B0B0]",children:"(Auto-extracted from email)"})]}),t.jsx(o.I,{id:"usn",value:g.usn,onChange:e=>f("usn",e.target.value.toUpperCase()),className:"bg-[#2D2D2D] border-[#4D4D4D] text-white cursor-not-allowed opacity-75",placeholder:"1SI23IS117",disabled:!0,readOnly:!0})]})]}),2===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"currentCompany",className:"text-white",children:"Current Company"}),t.jsx(o.I,{id:"currentCompany",value:g.currentCompany,onChange:e=>f("currentCompany",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Google, Microsoft, etc."})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"designation",className:"text-white",children:"Designation"}),t.jsx(o.I,{id:"designation",value:g.designation,onChange:e=>f("designation",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Software Engineer, etc."})]})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"location",className:"text-white",children:"Location"}),t.jsx(o.I,{id:"location",value:g.location,onChange:e=>f("location",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Bangalore, India"})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{className:"text-white",children:"Resume Upload"}),(0,t.jsxs)("div",{className:"mt-2 border-2 border-dashed border-[#4D4D4D] rounded-lg p-6 text-center hover:border-[#4A90E2] transition-colors",children:[t.jsx(k,{className:"w-8 h-8 text-[#B0B0B0] mx-auto mb-2"}),t.jsx("p",{className:"text-[#B0B0B0] mb-2",children:"Drag and drop your resume here, or click to browse"}),t.jsx("input",{type:"file",accept:".pdf",onChange:e=>{let s=e.target.files[0];if(s){if(s.size>5242880){x(e=>({...e,resumeFile:"File size must be less than 5MB"}));return}if(!s.type.includes("pdf")){x(e=>({...e,resumeFile:"Please upload a PDF file"}));return}p(e=>({...e,resumeFile:s})),x(e=>({...e,resumeFile:""}))}},className:"hidden",id:"resume-upload"}),t.jsx(n.z,{type:"button",variant:"outline",onClick:()=>document.getElementById("resume-upload").click(),className:"bg-transparent border-[#4D4D4D] text-white hover:bg-[#3D3D3D]",children:"Choose File"}),g.resumeFile&&(0,t.jsxs)("p",{className:"text-[#4A90E2] mt-2",children:["✓ ",g.resumeFile.name]}),h.resumeFile&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.resumeFile})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(y._,{className:"text-white",children:"Professional Links"}),(0,t.jsxs)("div",{children:[t.jsx(o.I,{value:g.linkedinUrl,onChange:e=>f("linkedinUrl",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"https://linkedin.com/in/yourprofile"}),h.linkedinUrl&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.linkedinUrl})]}),(0,t.jsxs)("div",{children:[t.jsx(o.I,{value:g.githubUrl,onChange:e=>f("githubUrl",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"https://github.com/yourusername"}),h.githubUrl&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.githubUrl})]}),(0,t.jsxs)("div",{children:[t.jsx(o.I,{value:g.leetcodeUrl,onChange:e=>f("leetcodeUrl",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"https://leetcode.com/yourusername"}),h.leetcodeUrl&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:h.leetcodeUrl})]})]})]}),3===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"skills",className:"text-white",children:"Skills & Technologies"}),t.jsx(D.g,{id:"skills",value:g.skills,onChange:e=>f("skills",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"React, Node.js, Python, Machine Learning, etc.",rows:3})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"bio",className:"text-white",children:"Bio"}),t.jsx(D.g,{id:"bio",value:g.bio,onChange:e=>f("bio",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Tell us about yourself...",rows:4})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"achievements",className:"text-white",children:"Achievements & Awards"}),t.jsx(D.g,{id:"achievements",value:g.achievements,onChange:e=>f("achievements",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Hackathon wins, certifications, publications, etc.",rows:3})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"interests",className:"text-white",children:"Interests & Hobbies"}),t.jsx(D.g,{id:"interests",value:g.interests,onChange:e=>f("interests",e.target.value),className:"bg-[#3D3D3D] border-[#4D4D4D] text-white",placeholder:"Photography, traveling, open source, etc.",rows:2})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(y._,{className:"text-white",children:"Community Participation"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"mentorshipAvailable",checked:g.mentorshipAvailable,onChange:e=>f("mentorshipAvailable",e.target.checked),className:"w-4 h-4 text-[#4A90E2] bg-[#3D3D3D] border-[#4D4D4D] rounded focus:ring-[#4A90E2]"}),t.jsx(y._,{htmlFor:"mentorshipAvailable",className:"text-white",children:"Available for mentorship"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"jobReferralsAvailable",checked:g.jobReferralsAvailable,onChange:e=>f("jobReferralsAvailable",e.target.checked),className:"w-4 h-4 text-[#4A90E2] bg-[#3D3D3D] border-[#4D4D4D] rounded focus:ring-[#4A90E2]"}),t.jsx(y._,{htmlFor:"jobReferralsAvailable",className:"text-white",children:"Available for job referrals"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>{c(e=>Math.max(e-1,1))},disabled:1===i,className:"bg-transparent border-[#4D4D4D] text-white hover:bg-[#3D3D3D]",children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Previous"]}),i<I.length?(0,t.jsxs)(n.z,{onClick:()=>{b(i)&&c(e=>Math.min(e+1,I.length))},className:"bg-[#4A90E2] hover:bg-[#357ABD] text-white",children:["Next",t.jsx(C,{className:"w-4 h-4 ml-2"})]}):t.jsx(n.z,{onClick:v,disabled:d,className:"bg-[#4A90E2] hover:bg-[#357ABD] text-white",children:d?"Creating Profile...":"Complete Profile"})]}),h.submit&&t.jsx("p",{className:"text-red-400 text-sm text-center",children:h.submit})]})]})})}function F({onStepChange:e,initialEmail:s=""}){let{resetPassword:a,isReady:i}=(0,m.a)(),[u,h]=(0,r.useState)(s),[x,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),N=()=>u.trim()?u.endsWith("@sit.ac.in")?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(g("Please enter a valid email address"),!1):(g("Please use your SIT institutional email (@sit.ac.in)"),!1):(g("Email is required"),!1),w=async e=>{if(e.preventDefault(),N()){f(!0),g("");try{if(!i){g("Authentication service is not available. Please try again.");return}let{data:e,error:s}=await a(u.trim().toLowerCase());if(s){console.error("Reset password error:",s),g(s.message||"Failed to send reset email");return}console.log("Reset password email sent:",e),v(!0)}catch(e){console.error("Unexpected error:",e),g("An unexpected error occurred. Please try again.")}finally{f(!1)}}};return b?t.jsx("div",{className:"flex items-center justify-center p-4 py-12",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md bg-surface border-border shadow-2xl",children:[(0,t.jsxs)(l.Ol,{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center",children:t.jsx(d.Z,{className:"w-8 h-8 text-green-500"})}),t.jsx(l.ll,{className:"text-2xl font-bold text-white",children:"Check Your Email"}),(0,t.jsxs)(l.SZ,{className:"text-[#B0B0B0]",children:["We've sent password reset instructions to ",t.jsx("strong",{className:"text-white",children:u})]})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[t.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-[#B0B0B0] text-center",children:"Please check your email and follow the instructions to reset your password. The link will expire in 1 hour."})}),(0,t.jsxs)(n.z,{onClick:()=>e("login"),variant:"outline",className:"w-full bg-transparent border-[#606060] text-white hover:bg-[#404040]",children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})]})}):t.jsx("div",{className:"flex items-center justify-center p-4 py-12",children:(0,t.jsxs)(l.Zb,{className:"w-full max-w-md bg-surface border-border shadow-2xl",children:[(0,t.jsxs)(l.Ol,{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-[#4A90E2]/10 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-8 h-8 text-[#4A90E2]"})}),t.jsx(l.ll,{className:"text-2xl font-bold text-white",children:"Reset Password"}),t.jsx(l.SZ,{className:"text-[#B0B0B0]",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-[#E0E0E0]",children:"SIT Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#B0B0B0]"}),t.jsx(o.I,{type:"email",value:u,onChange:e=>h(e.target.value),className:"bg-[#404040] border-[#606060] text-white placeholder-[#B0B0B0] focus:border-[#4A90E2] pl-10",placeholder:"your.email@sit.ac.in",disabled:p})]}),x&&t.jsx("p",{className:"text-red-400 text-sm",children:x})]}),t.jsx(n.z,{type:"submit",disabled:p||!u.trim(),className:"w-full h-12 text-base font-semibold bg-[#4A90E2] hover:bg-[#4A90E2]/90 transition-all duration-200",children:p?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending reset link..."]}):"Send Reset Link"})]}),t.jsx("div",{className:"text-center",children:(0,t.jsxs)("button",{onClick:()=>e("login"),className:"text-[#B0B0B0] hover:text-white text-sm flex items-center justify-center gap-2 mx-auto",disabled:p,children:[t.jsx(j,{className:"w-4 h-4"}),"Back to login"]})})]})]})})}var Z=a(8869);function _({initialStep:e="login"}){let s=(0,i.useRouter)(),{session:a,loading:l,isLoggedIn:n,isReady:o}=(0,m.a)(),{updateProfile:c,userProfile:d}=(0,Z.a)(),[h,x]=(0,r.useState)(e),[g,p]=(0,r.useState)({}),{toast:f}=(0,N.pm)(),[v,j]=(0,r.useState)(!1),y=`${l}-${n}-${!!a}-${h}-${o}`,[D,E]=(0,r.useState)("");y!==D&&(console.log("AuthFlow: State changed -",{loading:l,isLoggedIn:n,hasSession:!!a,hasUser:!!a?.user,currentStep:h,isReady:o,hasProfile:!!d,profileCompleted:d?.profileCompleted}),E(y));let B=(e,s={})=>{console.log("Step change:",e,s),x(e),p(e=>({...e,...s}))},S=async e=>{console.log("Profile creation completed:",e);try{console.log("Profile saved successfully"),p(s=>({...s,profile:e}));let a=new URLSearchParams(window.location.search).get("redirectTo")||"/dashboard";if(console.log("AuthFlow: Profile completed, ensuring profile refresh then redirecting to:",a),"function"==typeof c)try{await c(e),console.log("AuthFlow: Profile context updated successfully")}catch(e){console.warn("AuthFlow: Profile context update failed (continuing to redirect):",e)}console.log("AuthFlow: Using Next.js router for navigation to:",a),s.replace(a)}catch(e){console.error("Error saving profile:",e),f({title:"Failed to save profile",description:e?.message||"Please try again.",variant:"destructive"})}};switch(h){case"signup":return t.jsx(b,{onStepChange:B});case"login":default:return t.jsx(u,{onStepChange:B});case"otp-verification":return t.jsx(w,{email:g.email,firstName:g.firstName,lastName:g.lastName,isSignUp:g.isSignUp,userData:g.userData,onStepChange:B});case"profile":return t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(U,{userData:g,onComplete:S})});case"forgot-password":return t.jsx(F,{onStepChange:B,initialEmail:g.email})}}a(7163)},6991:(e,s,a)=>{a.d(s,{I:()=>l});var t=a(7247),r=a(8964),i=a(8007);let l=r.forwardRef(function({className:e,type:s,...a},r){return t.jsx("input",{ref:r,type:s,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})})},4538:(e,s,a)=>{a.d(s,{_:()=>o});var t=a(7247),r=a(8964),i=a(2251),l=r.forwardRef((e,s)=>(0,t.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=a(8007);function o({className:e,...s}){return t.jsx(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}},1331:(e,s,a)=>{a.d(s,{E:()=>N});var t=a(7247),r=a(8964),i=a(732),l=a(2251),n="Progress",[o,c]=(0,i.b)(n),[d,m]=o(n),u=r.forwardRef((e,s)=>{var a,r;let{__scopeProgress:i,value:n=null,max:o,getValueLabel:c=g,...m}=e;(o||0===o)&&!b(o)&&console.error((a=`${o}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=b(o)?o:100;null===n||v(n,u)||console.error((r=`${n}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let h=v(n,u)?n:null,x=f(h)?c(h,u):void 0;return(0,t.jsx)(d,{scope:i,value:h,max:u,children:(0,t.jsx)(l.WV.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":f(h)?h:void 0,"aria-valuetext":x,role:"progressbar","data-state":p(h,u),"data-value":h??void 0,"data-max":u,...m,ref:s})})});u.displayName=n;var h="ProgressIndicator",x=r.forwardRef((e,s)=>{let{__scopeProgress:a,...r}=e,i=m(h,a);return(0,t.jsx)(l.WV.div,{"data-state":p(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function g(e,s){return`${Math.round(e/s*100)}%`}function p(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function f(e){return"number"==typeof e}function b(e){return f(e)&&!isNaN(e)&&e>0}function v(e,s){return f(e)&&!isNaN(e)&&e<=s&&e>=0}x.displayName=h;var j=a(8007);function N({className:e,value:s,...a}){return t.jsx(u,{"data-slot":"progress",className:(0,j.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:t.jsx(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}},4494:(e,s,a)=>{a.d(s,{g:()=>i});var t=a(7247);a(8964);var r=a(8007);function i({className:e,...s}){return t.jsx("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}},5800:(e,s,a)=>{a.d(s,{zA:()=>r});let t={cs:"Computer Science",is:"Information Science",ec:"Electronics & Communication",me:"Mechanical Engineering",cv:"Civil Engineering",ee:"Electrical Engineering",ae:"Aeronautical Engineering",bt:"Biotechnology",ch:"Chemical Engineering",im:"Industrial Engineering & Management",tc:"Telecommunication Engineering",ai:"Artificial Intelligence & Machine Learning",ds:"Data Science",cy:"Cyber Security"};function r(e){try{if(!(e&&"string"==typeof e&&e.toLowerCase().endsWith("@sit.ac.in")))throw Error("Invalid institutional email domain");let s=e.split("@")[0].toLowerCase(),a=s.match(/^(\d)([a-z]{2})(\d{2})([a-z]{2})(\d{3})$/);if(!a)throw Error("Invalid USN format in email");let[,r,i,l,n,o]=a,c=new Date().getFullYear(),d=100*Math.floor(c/100)+parseInt(l);d>c+10&&(d-=100);let m=d+4,u=t[n];if(!u)throw Error(`Unknown branch code: ${n}`);return{usn:s.toUpperCase(),branch:u,branchCode:n.toUpperCase(),joiningYear:d,passingYear:m,semester:parseInt(r),rollNumber:parseInt(o),isValid:!0}}catch(e){return console.error("Email parsing error:",e.message),{isValid:!1,error:e.message}}}},1621:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},2310:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},8406:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},457:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8622:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},5389:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5271:(e,s,a)=>{a.d(s,{Z:()=>t});let t=(0,a(9311).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4178:(e,s,a)=>{var t=a(5289);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}};