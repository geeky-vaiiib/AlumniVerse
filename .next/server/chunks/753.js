exports.id=753,exports.ids=[753],exports.modules={3871:(e,t,r)=>{Promise.resolve().then(r.bind(r,3279)),Promise.resolve().then(r.bind(r,1502)),Promise.resolve().then(r.bind(r,3370)),Promise.resolve().then(r.bind(r,5805)),Promise.resolve().then(r.bind(r,5966)),Promise.resolve().then(r.bind(r,8869))},3648:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},3279:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,a:()=>o});var a=r(7247),n=r(8964),s=r(7163);let i=(0,n.createContext)({}),o=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};function l({children:e}){let[t,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0),[u,p]=(0,n.useState)(!1),m=async(e,t={})=>{try{let{data:r,error:a}=await s.OQ.auth.signInWithOtp({email:e,options:{data:t,shouldCreateUser:!0}});if(a)throw a;return{data:r,error:null}}catch(e){return console.error("Sign up error:",e),{data:null,error:e}}},g=async e=>{try{let{data:t,error:r}=await s.OQ.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}});if(r)throw r;return{data:t,error:null}}catch(e){return console.error("Sign in with OTP error:",e),{data:null,error:e}}},h=async(e,t,r={})=>{try{let{data:a,error:n}=await s.OQ.auth.verifyOtp({email:e,token:t,type:"email"});if(n)throw n;let i=a?.session??null,o=i?.user??null;if(!o)throw Error("No user returned after OTP verification");await new Promise(e=>setTimeout(e,400));let{data:l}=await s.OQ.auth.getSession(),d=l?.session?.user??o,{data:c,error:u}=await s.OQ.from("users").select("*").eq("auth_id",d.id).single();if(u&&("PGRST116"===u.code||404===u.status)){console.log("Profile not found, creating via server endpoint...");try{let e=await fetch("/api/profile/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i?.access_token}`},body:JSON.stringify({auth_id:d.id,email:d.email,first_name:r.first_name||r.firstName||null,last_name:r.last_name||r.lastName||null,usn:r.usn||null,branch:r.branch||null,branch_code:r.branch_code||null,admission_year:r.admission_year||r.joining_year||null,passing_year:r.passing_year||null})});if(e.ok)console.log("Profile created successfully via server endpoint");else if(409===e.status)console.log("Profile already exists (expected on re-verification)");else{let t=await e.json();console.warn("Server profile creation failed:",t)}}catch(e){console.warn("Server profile creation error:",e)}}else c&&console.log("Profile found in database");return{data:a,error:null}}catch(e){return console.error("OTP verification error:",e),{data:null,error:e}}},y=async(e,t,r={})=>{try{let{data:a,error:n}=await s.OQ.auth.signUp({email:e,password:t,options:{data:r}});if(n)throw n;return{data:a,error:null}}catch(e){return console.error("Sign up with password error:",e),{data:null,error:e}}},f=async(e,t)=>{try{let{data:r,error:a}=await s.OQ.auth.signInWithPassword({email:e,password:t});if(a)throw"invalid_credentials"!==a.code&&console.error("Sign in with password error:",a),a;return{data:r,error:null}}catch(e){return"invalid_credentials"!==e.code&&console.error("Password login error:",e),{data:null,error:e}}},_=async e=>{try{let{data:t,error:r}=await s.OQ.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r;return{data:t,error:null}}catch(e){return console.error("Reset password error:",e),{data:null,error:e}}},v=async e=>{try{let{data:t,error:r}=await s.OQ.auth.updateUser({password:e});if(r)throw r;return{data:t,error:null}}catch(e){return console.error("Update password error:",e),{data:null,error:e}}},S=async()=>{try{let{error:e}=await s.OQ.auth.signOut();if(e)throw e;return l(null),r(null),{error:null}}catch(e){return console.error("Sign out error:",e),{error:e}}};return a.jsx(i.Provider,{value:{user:t,session:o,loading:d,isReady:u,isLoggedIn:!!o,signUpWithOTP:m,signInWithOTP:g,verifyOTP:h,signUpWithPassword:y,signInWithPassword:f,resetPassword:_,updatePassword:v,signOut:S},children:e})}},1502:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(7247);r(8964);var n=r(1601),s=r(2752),i=r(290),o=r(5921),l=r(6357),d=r(7013);function c(){let{toast:e,hideToast:t}=(0,n.pm)();return e?a.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2 duration-300",children:(0,a.jsxs)("div",{className:`
        flex items-center space-x-3 p-4 rounded-lg border backdrop-blur-sm
        ${(()=>{switch(e.type){case"success":return"bg-green-900/20 border-green-500/50";case"error":return"bg-red-900/20 border-red-500/50";case"warning":return"bg-yellow-900/20 border-yellow-500/50";default:return"bg-blue-900/20 border-blue-500/50"}})()}
        max-w-sm shadow-lg
      `,children:[(()=>{switch(e.type){case"success":return a.jsx(s.Z,{className:"w-5 h-5 text-green-400"});case"error":return a.jsx(i.Z,{className:"w-5 h-5 text-red-400"});case"warning":return a.jsx(o.Z,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(l.Z,{className:"w-5 h-5 text-blue-400"})}})(),(0,a.jsxs)("div",{className:"flex-1",children:[e.title&&a.jsx("h4",{className:"font-semibold text-white text-sm",children:e.title}),a.jsx("p",{className:"text-sm text-gray-300",children:e.message})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(d.Z,{className:"w-4 h-4"})})]})}):null}},3370:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(7247),n=r(8964),s=r.n(n),i=r(7757),o=r(8053),l=r(5921),d=r(8339);class c extends s().Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?a.jsx(i.Zb,{className:"bg-[#2D2D2D] border-[#3D3D3D] border-red-500/20",children:a.jsx(i.aY,{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center",children:a.jsx(l.Z,{className:"w-8 h-8 text-red-500"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-400 max-w-md",children:this.props.fallbackMessage||"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."})]}),!1,(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(o.z,{onClick:this.handleRetry,className:"bg-[#4A90E2] hover:bg-[#4A90E2]/80 text-white",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Try Again"]}),a.jsx(o.z,{variant:"outline",onClick:()=>window.location.reload(),className:"border-[#4D4D4D] text-white hover:bg-[#3D3D3D]",children:"Refresh Page"})]})]})})}):this.props.children}}let u=c},8053:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(7247);r(8964);var n=r(9008),s=r(6490),i=r(8007);let o=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:r,asChild:s=!1,...l}){let d=s?n.g7:"button";return a.jsx(d,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:r,className:e})),...l})}},7757:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,SZ:()=>l,Zb:()=>s,aY:()=>d,ll:()=>o});var a=r(7247);r(8964);var n=r(8007);function s({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function d({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...t})}},5805:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>f});var a=r(7247),n=r(906),s=r(8964),i=r(3819),o=r(6490),l=r(7013),d=r(8007);let c=i.zt,u=s.forwardRef(({className:e,...t},r)=>a.jsx(i.l_,{ref:r,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u.displayName=i.l_.displayName;let p=(0,o.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=s.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(i.fC,{ref:n,className:(0,d.cn)(p({variant:t}),e),...r}));m.displayName=i.fC.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(i.aU,{ref:r,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=i.aU.displayName;let g=s.forwardRef(({className:e,...t},r)=>a.jsx(i.x8,{ref:r,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));g.displayName=i.x8.displayName;let h=s.forwardRef(({className:e,...t},r)=>a.jsx(i.Dx,{ref:r,className:(0,d.cn)("text-sm font-semibold",e),...t}));h.displayName=i.Dx.displayName;let y=s.forwardRef(({className:e,...t},r)=>a.jsx(i.dk,{ref:r,className:(0,d.cn)("text-sm opacity-90",e),...t}));function f(){let{toasts:e}=(0,n.pm)();return(0,a.jsxs)(c,{children:[e.map(function({id:e,title:t,description:r,action:n,...s}){return(0,a.jsxs)(m,{...s,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&a.jsx(h,{children:t}),r&&a.jsx(y,{children:r})]}),n,a.jsx(g,{})]},e)}),a.jsx(u,{})]})}y.displayName=i.dk.displayName},5966:(e,t,r)=>{"use strict";r.d(t,{AppProvider:()=>d,q:()=>c});var a=r(7247),n=r(8964);r(5105);let s={user:null,isAuthenticated:!1,alumni:[],alumniFilters:{search:"",branch:"all",year:"all",location:"all",skills:""},alumniLoading:!1,jobs:[],jobFilters:{search:"",type:"all",location:"all",experience:"all"},savedJobs:[],jobsLoading:!1,events:[],eventFilters:{search:"",type:"all",mode:"all",status:"all"},registeredEvents:[],eventsLoading:!1,posts:[],postsLoading:!1,userBadges:[],availableBadges:[],leaderboard:[],userStats:{points:0,rank:0,streak:0,badgeCount:0},connections:[],connectionRequests:[],notifications:[],unreadCount:0,loading:!1,error:null,toast:null},i={SET_USER:"SET_USER",LOGOUT:"LOGOUT",SET_ALUMNI:"SET_ALUMNI",SET_ALUMNI_FILTERS:"SET_ALUMNI_FILTERS",SET_ALUMNI_LOADING:"SET_ALUMNI_LOADING",ADD_CONNECTION:"ADD_CONNECTION",SET_JOBS:"SET_JOBS",SET_JOB_FILTERS:"SET_JOB_FILTERS",SET_JOBS_LOADING:"SET_JOBS_LOADING",TOGGLE_SAVED_JOB:"TOGGLE_SAVED_JOB",ADD_JOB:"ADD_JOB",SET_EVENTS:"SET_EVENTS",SET_EVENT_FILTERS:"SET_EVENT_FILTERS",SET_EVENTS_LOADING:"SET_EVENTS_LOADING",TOGGLE_EVENT_REGISTRATION:"TOGGLE_EVENT_REGISTRATION",ADD_EVENT:"ADD_EVENT",SET_POSTS:"SET_POSTS",SET_POSTS_LOADING:"SET_POSTS_LOADING",ADD_POST:"ADD_POST",LIKE_POST:"LIKE_POST",ADD_COMMENT:"ADD_COMMENT",SET_USER_BADGES:"SET_USER_BADGES",SET_AVAILABLE_BADGES:"SET_AVAILABLE_BADGES",SET_LEADERBOARD:"SET_LEADERBOARD",UPDATE_USER_STATS:"UPDATE_USER_STATS",EARN_BADGE:"EARN_BADGE",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ",CLEAR_NOTIFICATIONS:"CLEAR_NOTIFICATIONS",SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_TOAST:"SET_TOAST",CLEAR_TOAST:"CLEAR_TOAST"};function o(e,t){switch(t.type){case i.SET_USER:return{...e,user:t.payload,isAuthenticated:!!t.payload};case i.LOGOUT:return{...s};case i.SET_ALUMNI:return{...e,alumni:Array.isArray(t.payload)?t.payload:[],alumniLoading:!1};case i.SET_ALUMNI_FILTERS:return{...e,alumniFilters:{...e.alumniFilters,...t.payload}};case i.SET_ALUMNI_LOADING:return{...e,alumniLoading:t.payload};case i.ADD_CONNECTION:return{...e,connections:[...Array.isArray(e.connections)?e.connections:[],t.payload],alumni:Array.isArray(e.alumni)?e.alumni.map(e=>e.id===t.payload.id?{...e,isConnected:!0,connections:(e.connections||0)+1}:e):[]};case i.SET_JOBS:return{...e,jobs:Array.isArray(t.payload)?t.payload:[],jobsLoading:!1};case i.SET_JOB_FILTERS:return{...e,jobFilters:{...e.jobFilters,...t.payload}};case i.SET_JOBS_LOADING:return{...e,jobsLoading:t.payload};case i.TOGGLE_SAVED_JOB:let r=t.payload,a=e.savedJobs.includes(r);return{...e,savedJobs:a?e.savedJobs.filter(e=>e!==r):[...e.savedJobs,r],jobs:Array.isArray(e.jobs)?e.jobs.map(e=>e.id===r?{...e,isBookmarked:!e.isBookmarked}:e):[]};case i.ADD_JOB:return{...e,jobs:[t.payload,...Array.isArray(e.jobs)?e.jobs:[]]};case i.SET_EVENTS:return{...e,events:Array.isArray(t.payload)?t.payload:[],eventsLoading:!1};case i.SET_EVENT_FILTERS:return{...e,eventFilters:{...e.eventFilters,...t.payload}};case i.SET_EVENTS_LOADING:return{...e,eventsLoading:t.payload};case i.TOGGLE_EVENT_REGISTRATION:let n=t.payload,o=e.registeredEvents.includes(n);return{...e,registeredEvents:o?e.registeredEvents.filter(e=>e!==n):[...e.registeredEvents,n],events:Array.isArray(e.events)?e.events.map(e=>e.id===n?{...e,isRegistered:!e.isRegistered,currentAttendees:e.isRegistered?(e.currentAttendees||0)-1:(e.currentAttendees||0)+1}:e):[]};case i.ADD_EVENT:return{...e,events:[t.payload,...Array.isArray(e.events)?e.events:[]]};case i.SET_POSTS:return{...e,posts:Array.isArray(t.payload)?t.payload:[],postsLoading:!1};case i.SET_POSTS_LOADING:return{...e,postsLoading:t.payload};case i.ADD_POST:return{...e,posts:[t.payload,...Array.isArray(e.posts)?e.posts:[]]};case i.LIKE_POST:return{...e,posts:Array.isArray(e.posts)?e.posts.map(e=>e.id===t.payload?{...e,isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}:e):[]};case i.ADD_COMMENT:return{...e,posts:Array.isArray(e.posts)?e.posts.map(e=>e.id===t.payload.postId?{...e,comments:[...Array.isArray(e.comments)?e.comments:[],t.payload.comment],commentCount:(e.commentCount||0)+1}:e):[]};case i.SET_USER_BADGES:return{...e,userBadges:t.payload};case i.SET_AVAILABLE_BADGES:return{...e,availableBadges:t.payload};case i.SET_LEADERBOARD:return{...e,leaderboard:t.payload};case i.UPDATE_USER_STATS:return{...e,userStats:{...e.userStats,...t.payload}};case i.EARN_BADGE:return{...e,userBadges:[...e.userBadges,t.payload],userStats:{...e.userStats,badgeCount:e.userStats.badgeCount+1,points:e.userStats.points+t.payload.points}};case i.ADD_NOTIFICATION:return{...e,notifications:[t.payload,...Array.isArray(e.notifications)?e.notifications:[]],unreadCount:(e.unreadCount||0)+1};case i.MARK_NOTIFICATION_READ:return{...e,notifications:Array.isArray(e.notifications)?e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e):[],unreadCount:Math.max(0,e.unreadCount-1)};case i.CLEAR_NOTIFICATIONS:return{...e,notifications:[],unreadCount:0};case i.SET_LOADING:return{...e,loading:t.payload};case i.SET_ERROR:return{...e,error:t.payload,loading:!1};case i.SET_TOAST:return{...e,toast:t.payload};case i.CLEAR_TOAST:return{...e,toast:null};default:return e}}let l=(0,n.createContext)();function d({children:e}){let[t,r]=(0,n.useReducer)(o,s);return a.jsx(l.Provider,{value:{state:t,dispatch:r,actionTypes:i},children:e})}function c(){let e=(0,n.useContext)(l);if(!e)throw Error("useApp must be used within an AppProvider");return e}},8869:(e,t,r)=>{"use strict";r.d(t,{UserProvider:()=>y,a:()=>h});var a=r(7247),n=r(8964),s=r(3279),i=r(7163);let o={github:/^https:\/\/github\.com\/[A-Za-z0-9_.-]+\/?$/,linkedin:/^https:\/\/(www\.)?linkedin\.com\/(in|pub)\/.+$/,leetcode:/^https:\/\/(www\.)?leetcode\.com\/[A-Za-z0-9_.-]+\/?$/};function l(e,t){if(!e||"string"!=typeof e)return null;let r=e.trim();if(!r)return null;let a=o[t];return a&&a.test(r)?r:null}function d(e){return l(e,"github")}function c(e){return l(e,"linkedin")}function u(e){return l(e,"leetcode")}let p=(0,n.createContext)(),m=e=>{let t=["firstName","lastName","currentCompany","designation","location","linkedinUrl","githubUrl","bio"];return Math.round(t.filter(t=>e[t]&&""!==e[t].trim()).length/t.length*100)},g=async e=>{try{let{data:t,error:r,status:a}=await i.OQ.from("users").select("*").eq("auth_id",e).single();if(!r)return{data:t,error:null};if(406===a||(r?.message||"").toLowerCase().includes("multiple")||(r?.message||"").toLowerCase().includes("results contain")){let{data:t,error:r}=await i.OQ.from("users").select("*").eq("auth_id",e).order("updated_at",{ascending:!1,nullsLast:!0}).limit(1);if(r)return{data:null,error:r};return{data:t?.[0]||null,error:null}}return{data:null,error:r}}catch(e){return{data:null,error:e}}};function h(){let e=(0,n.useContext)(p);if(!e)throw Error("useUser must be used within UserProvider");return e}function y({children:e}){let{user:t,session:r,isLoggedIn:o}=(0,s.a)(),[l,h]=(0,n.useState)(null),[y,f]=(0,n.useState)(!0),[_,v]=(0,n.useState)(null),S=async e=>{if(!t)throw Error("No user logged in");try{console.log("UserContext: Updating profile with:",e);let r=l||{};if(!Object.keys(e).some(t=>{let a=e[t],n=r[t];return"object"==typeof a&&"object"==typeof n?JSON.stringify(a)!==JSON.stringify(n):a!==n}))return console.log("UserContext: No changes detected, skipping update"),{success:!0};let{data:a,error:n}=await i.OQ.auth.updateUser({data:{...t.user_metadata,...e,updatedAt:new Date().toISOString()}});if(n)throw n;let{error:s}=await i.OQ.from("users").upsert({auth_id:t.id,email:t.email,first_name:e.firstName||l?.firstName||null,last_name:e.lastName||l?.lastName||null,usn:e.usn||l?.usn||null,branch:e.branch||l?.branch||null,admission_year:e.joiningYear||l?.joiningYear||null,passing_year:e.passingYear||l?.passingYear||null,company:e.currentCompany||l?.currentCompany||null,current_position:e.designation||l?.designation||null,location:e.location||l?.location||null,linkedin_url:c(e.linkedinUrl)||c(l?.linkedinUrl),github_url:d(e.githubUrl)||d(l?.githubUrl),leetcode_url:u(e.leetcodeUrl)||u(l?.leetcodeUrl),resume_url:e.resumeUrl&&e.resumeUrl.trim()?e.resumeUrl.trim():l?.resumeUrl&&l.resumeUrl.trim()?l.resumeUrl.trim():null,bio:e.bio||l?.bio||null,skills:e.skills||l?.skills||null,profile_completed:!!(e.profileCompleted||l?.profileCompleted),updated_at:new Date().toISOString()},{onConflict:"auth_id"});if(s)throw console.error("UserContext: Database update error:",s),Error(s.message||"Failed to update user profile in database");return h(t=>({...t,...e,updatedAt:new Date().toISOString()})),console.log("UserContext: Profile updated successfully"),{success:!0}}catch(e){throw console.error("UserContext: Update error:",e),e}},b=()=>{if(!l)return"User";let e=l.firstName||"",t=l.lastName||"";return`${e} ${t}`.trim()||(l.email?l.email.split("@")[0]:"User")},E={userProfile:l,loading:y,error:_,updateProfile:S,refreshProfile:async()=>{if(t&&o)try{console.log("UserContext: Refreshing profile data..."),f(!0);let{data:{user:e},error:t}=await i.OQ.auth.getUser();if(t||!e){console.error("UserContext: Error getting fresh user:",t);return}let r=e.user_metadata||{};console.log("UserContext: Fresh auth metadata:",r);let{data:a,error:n}=await g(e.id);n&&console.error("UserContext: Database error:",n);let s={id:e.id,email:e.email,firstName:r.first_name||a?.first_name||"",lastName:r.last_name||a?.last_name||"",usn:r.usn||a?.usn||"",branch:r.branch||a?.branch||"",branchCode:r.branch_code||a?.branch_code||"",joiningYear:r.joining_year||a?.admission_year||null,passingYear:r.passing_year||a?.passing_year||null,currentCompany:r.currentCompany||a?.company||"Not specified",designation:r.designation||a?.current_position||"Not specified",location:r.location||a?.location||"Not specified",linkedinUrl:r.linkedinUrl||a?.linkedin_url||"",githubUrl:r.githubUrl||a?.github_url||"",leetcodeUrl:r.leetcodeUrl||a?.leetcode_url||"",resumeUrl:r.resumeUrl||a?.resume_url||"",bio:r.bio||a?.bio||"",skills:r.skills||a?.skills||[],profileCompleted:r.profileCompleted||a?.profile_completed||!1,profileCompletion:r.profileCompletion||m({firstName:r.first_name||a?.first_name||"",lastName:r.last_name||a?.last_name||"",currentCompany:r.currentCompany||a?.company||"",designation:r.designation||a?.current_position||"",location:r.location||a?.location||"",linkedinUrl:r.linkedinUrl||a?.linkedin_url||"",githubUrl:r.githubUrl||a?.github_url||"",bio:r.bio||a?.bio||""}),avatarUrl:a?.avatar_path||null,connections:0,profileViews:0,badges:[],createdAt:a?.created_at||e.created_at,updatedAt:a?.updated_at||new Date().toISOString()};console.log("UserContext: Refreshed profile:",s),h(s),v(null)}catch(e){console.error("UserContext: Error refreshing profile:",e),v(e.message)}finally{f(!1)}},getFullName:b,getInitials:()=>b().split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),isProfileComplete:l?.profileCompleted||!1};return a.jsx(p.Provider,{value:E,children:e})}},906:(e,t,r)=>{"use strict";r.d(t,{pm:()=>p});var a=r(8964);let n=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=a.useState(d);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},1601:(e,t,r)=>{"use strict";r.d(t,{Yj:()=>y,hI:()=>_,C8:()=>f,zn:()=>S,kx:()=>v,pm:()=>b});var a=r(8964),n=r(5966),s=r(8869);r(5105);var i=r(7163);async function o({limit:e=50,offset:t=0,orderBy:r="created_at",ascending:a=!1}={}){try{let{data:n,error:s}=await i.OQ.from("posts").select(`
        *,
        author:users!author_id (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company,
          passing_year,
          is_profile_complete
        )
      `).eq("is_deleted",!1).order(r,{ascending:a}).range(t,t+e-1);if(s)throw s;return{data:(n||[]).map(e=>({id:e.id,author:{id:e.author?.id,name:`${e.author?.first_name||""} ${e.author?.last_name||""}`.trim(),avatar:e.author?.avatar_path||null,title:e.author?.current_position||"Alumni Member",company:e.author?.company||"",batch:e.author?.passing_year||"",isVerified:e.author?.is_profile_complete||!1},content:e.content,type:e.post_type,images:e.images||[],links:e.links||[],tags:e.tags||[],timestamp:e.created_at,likes:e.likes_count||0,comments:e.comments_count||0,shares:e.shares_count||0,isLiked:!1,isPinned:e.is_pinned||!1})),error:null}}catch(e){return console.error("Error fetching posts:",e),{data:[],error:e}}}async function l(e){try{let{data:t,error:r}=await i.OQ.from("posts").insert([{author_id:e.author_id,content:e.content,post_type:e.post_type||"general",images:e.images||[],links:e.links||[],tags:e.tags||[],visibility:e.visibility||"public"}]).select(`
        *,
        author:users!author_id (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company,
          passing_year,
          is_profile_complete
        )
      `).single();if(r)throw r;return{data:{id:t.id,author:{id:t.author?.id,name:`${t.author?.first_name||""} ${t.author?.last_name||""}`.trim(),avatar:t.author?.avatar_path||null,title:t.author?.current_position||"Alumni Member",company:t.author?.company||"",batch:t.author?.passing_year||"",isVerified:t.author?.is_profile_complete||!1},content:t.content,type:t.post_type,images:t.images||[],links:t.links||[],tags:t.tags||[],timestamp:t.created_at,likes:0,comments:0,shares:0,isLiked:!1,isPinned:!1},error:null}}catch(e){return console.error("Error creating post:",e),{data:null,error:e}}}async function d(e,t){try{let{data:r,error:a}=await i.OQ.from("post_likes").select("id").eq("post_id",e).eq("user_id",t).single();if(a&&"PGRST116"!==a.code)throw a;if(r){let{error:r}=await i.OQ.from("post_likes").delete().eq("post_id",e).eq("user_id",t);if(r)throw r;return{data:{postId:e,userId:t},error:null,isLiked:!1}}{let{error:r}=await i.OQ.from("post_likes").insert([{post_id:e,user_id:t}]);if(r)throw r;return{data:{postId:e,userId:t},error:null,isLiked:!0}}}catch(e){return console.error("Error toggling post like:",e),{data:null,error:e,isLiked:!1}}}async function c(e,t){try{let{data:r,error:a}=await i.OQ.from("comments").insert([{post_id:e,author_id:t.author_id,content:t.content}]).select(`
        *,
        author:users!author_id (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company
        )
      `).single();if(a)throw a;return{data:{id:r.id,author:{id:r.author?.id,name:`${r.author?.first_name||""} ${r.author?.last_name||""}`.trim(),avatar:r.author?.avatar_path||null,title:r.author?.current_position||"Alumni Member",company:r.author?.company||""},content:r.content,timestamp:r.created_at,likes:0,isLiked:!1},error:null}}catch(e){return console.error("Error adding comment:",e),{data:null,error:e}}}async function u(e,t){try{let{data:r,error:a}=await i.OQ.from("post_likes").select("post_id").in("post_id",e).eq("user_id",t);if(a)throw a;let n={};return(r||[]).forEach(e=>{n[e.post_id]=!0}),{data:n,error:null}}catch(e){return console.error("Error checking user likes:",e),{data:{},error:e}}}var p=r(9527),m=r(1021);async function g(e={}){try{let{search:t="",branch:r="",year:a="",location:n="",company:s="",skills:o="",page:l=1,limit:d=20,sortBy:c="first_name",sortOrder:u="asc"}=e,p=new URLSearchParams;t&&p.append("search",t),r&&p.append("branch",r),a&&p.append("year",a),n&&p.append("location",n),s&&p.append("company",s),o&&p.append("skills",o),p.append("page",l.toString()),p.append("limit",d.toString()),p.append("sortBy",c),p.append("sortOrder",u);let{data:{session:m}}=await i.OQ.auth.getSession(),g=m?.access_token,h=await fetch(`http://localhost:5001/api/directory?${p}`,{method:"GET",headers:{"Content-Type":"application/json",...g&&{Authorization:`Bearer ${g}`}}});if(!h.ok){let e=await h.json().catch(()=>({}));throw Error(e.message||`HTTP error! status: ${h.status}`)}return{data:(await h.json()).data,error:null}}catch(e){return console.error("Error fetching alumni directory:",e),{data:null,error:e.message}}}async function h(e){try{let{data:{session:t}}=await i.OQ.auth.getSession();if(!t?.access_token)throw Error("Authentication required");return{data:{success:!0,message:"Connection request sent successfully",alumniId:e},error:null}}catch(e){return console.error("Error connecting with alumni:",e),{data:null,error:e.message}}}function y(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{alumni:s,alumniFilters:i,alumniLoading:o}=e;return{alumni:s,alumniFilters:i,alumniLoading:o,loadAlumni:(0,a.useCallback)(async(e={})=>{t({type:r.SET_ALUMNI_LOADING,payload:!0});try{let{data:a,error:n}=await g(e);if(n)throw Error(n);let s={alumni:a.alumni||[],pagination:a.pagination||{},filters:a.filters||{}};t({type:r.SET_ALUMNI,payload:s})}catch(e){console.error("Error loading alumni:",e),t({type:r.SET_ERROR,payload:e.message})}finally{t({type:r.SET_ALUMNI_LOADING,payload:!1})}},[t,r]),updateFilters:(0,a.useCallback)(e=>{t({type:r.SET_ALUMNI_FILTERS,payload:e})},[t,r]),connectWithAlumni:(0,a.useCallback)(async e=>{try{let{data:a,error:n}=await h(e);if(n)throw Error(n);t({type:r.ADD_CONNECTION,payload:{id:e}}),t({type:r.ADD_NOTIFICATION,payload:{id:Date.now(),type:"success",title:"Connection Request Sent",message:a.message||"Connection request sent successfully",timestamp:new Date().toISOString(),read:!1}}),t({type:r.SET_TOAST,payload:{type:"success",message:a.message||"Connection request sent successfully!"}})}catch(e){console.error("Error connecting with alumni:",e),t({type:r.SET_ERROR,payload:e.message}),t({type:r.SET_TOAST,payload:{type:"error",message:e.message||"Failed to send connection request"}})}},[t,r])}}function f(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{userProfile:i}=(0,s.a)(),{jobs:o,jobFilters:l,jobsLoading:d,savedJobs:c}=e,u=(0,a.useCallback)(async(e={})=>{t({type:r.SET_JOBS_LOADING,payload:!0});try{let{data:e,error:a}=await p.bG({limit:50,activeOnly:!0});if(a)throw a;if(i?.id&&e.length>0){let t=e.map(e=>e.id),{data:r}=await p.lM(t,i.id);e.forEach(e=>{e.isSaved=r[e.id]||!1})}t({type:r.SET_JOBS,payload:e})}catch(e){console.error("Error loading jobs:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]);return{jobs:o,jobFilters:l,jobsLoading:d,savedJobs:c,loadJobs:u,updateFilters:(0,a.useCallback)(e=>{t({type:r.SET_JOB_FILTERS,payload:e})},[t,r]),toggleSavedJob:(0,a.useCallback)(async e=>{if(!i?.id){t({type:r.SET_TOAST,payload:{type:"error",message:"Please log in to save jobs"}});return}try{let{isSaved:a,error:n}=await p.NG(e,i.id);if(n)throw n;t({type:r.TOGGLE_SAVED_JOB,payload:e}),t({type:r.SET_TOAST,payload:{type:"success",message:a?"Job saved successfully!":"Job removed from saved list"}})}catch(e){console.error("Error toggling job bookmark:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]),createJob:(0,a.useCallback)(async e=>{if(!i?.id)throw Error("User not authenticated");try{let{data:a,error:n}=await p.Cq({...e,postedBy:i.id});if(n)throw n;return t({type:r.ADD_JOB,payload:a}),t({type:r.SET_TOAST,payload:{type:"success",message:"Job posted successfully!"}}),a}catch(e){throw console.error("Error creating job:",e),t({type:r.SET_ERROR,payload:e.message}),e}},[t,r,i])}}function _(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{userProfile:i}=(0,s.a)(),{events:o,eventFilters:l,eventsLoading:d,registeredEvents:c}=e,u=(0,a.useCallback)(async(e={})=>{t({type:r.SET_EVENTS_LOADING,payload:!0});try{let{data:e,error:a}=await m.sZ({limit:50,upcomingOnly:!0});if(a)throw a;if(i?.id&&e.length>0){let t=e.map(e=>e.id),{data:r}=await m.L6(t,i.id);e.forEach(e=>{e.isRegistered=r[e.id]||!1})}t({type:r.SET_EVENTS,payload:e})}catch(e){console.error("Error loading events:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]);return{events:o,eventFilters:l,eventsLoading:d,registeredEvents:c,loadEvents:u,updateFilters:(0,a.useCallback)(e=>{t({type:r.SET_EVENT_FILTERS,payload:e})},[t,r]),toggleEventRegistration:(0,a.useCallback)(async e=>{if(!i?.id){t({type:r.SET_TOAST,payload:{type:"error",message:"Please log in to register for events"}});return}try{let{isRegistered:a,error:n}=await m.Sl(e,i.id);if(n)throw n;t({type:r.TOGGLE_EVENT_REGISTRATION,payload:e}),t({type:r.SET_TOAST,payload:{type:"success",message:a?"Successfully registered for event!":"Registration cancelled"}})}catch(e){console.error("Error toggling event registration:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]),createEvent:(0,a.useCallback)(async e=>{if(!i?.id)throw Error("User not authenticated");try{let{data:a,error:n}=await m.yM({...e,organizedBy:i.id});if(n)throw n;return t({type:r.ADD_EVENT,payload:a}),t({type:r.SET_TOAST,payload:{type:"success",message:"Event created successfully!"}}),a}catch(e){throw console.error("Error creating event:",e),t({type:r.SET_ERROR,payload:e.message}),e}},[t,r,i])}}function v(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{userProfile:i}=(0,s.a)(),{posts:p,postsLoading:m}=e,g=(0,a.useCallback)(async()=>{t({type:r.SET_POSTS_LOADING,payload:!0});try{let{data:e,error:a}=await o({limit:50});if(a)throw a;if(i?.id&&e.length>0){let t=e.map(e=>e.id),{data:r}=await u(t,i.id);e.forEach(e=>{e.isLiked=r[e.id]||!1})}t({type:r.SET_POSTS,payload:e})}catch(e){console.error("Error loading posts:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]);return{posts:p,postsLoading:m,loadPosts:g,createPost:(0,a.useCallback)(async e=>{if(!i?.id)throw Error("User not authenticated");try{let{data:a,error:n}=await l({content:e.content,post_type:e.type||"general",images:e.images||[],links:e.links||[],tags:e.tags||[],author_id:i.id});if(n)throw n;return t({type:r.ADD_POST,payload:a}),t({type:r.SET_TOAST,payload:{type:"success",message:"Post created successfully!"}}),a}catch(e){throw console.error("Error creating post:",e),t({type:r.SET_ERROR,payload:e.message}),e}},[t,r,i]),likePost:(0,a.useCallback)(async e=>{if(!i?.id){t({type:r.SET_TOAST,payload:{type:"error",message:"Please log in to like posts"}});return}try{let{error:a}=await d(e,i.id);if(a)throw a;t({type:r.LIKE_POST,payload:e})}catch(e){console.error("Error liking post:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i]),addComment:(0,a.useCallback)(async(e,a)=>{if(!i?.id){t({type:r.SET_TOAST,payload:{type:"error",message:"Please log in to comment"}});return}try{let{data:n,error:s}=await c(e,{author_id:i.id,content:a.content});if(s)throw s;t({type:r.ADD_COMMENT,payload:{postId:e,comment:n}})}catch(e){console.error("Error adding comment:",e),t({type:r.SET_ERROR,payload:e.message})}},[t,r,i])}}function S(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{notifications:s,unreadCount:i}=e;return{notifications:s,unreadCount:i,addNotification:(0,a.useCallback)(e=>{t({type:r.ADD_NOTIFICATION,payload:{id:Date.now(),timestamp:new Date().toISOString(),read:!1,...e}})},[t,r]),markAsRead:(0,a.useCallback)(e=>{t({type:r.MARK_NOTIFICATION_READ,payload:e})},[t,r]),clearAll:(0,a.useCallback)(()=>{t({type:r.CLEAR_NOTIFICATIONS})},[t,r])}}function b(){let{state:e,dispatch:t,actionTypes:r}=(0,n.q)(),{toast:s}=e,i=(0,a.useRef)(null);return{toast:s,showToast:(0,a.useCallback)(e=>{i.current&&clearTimeout(i.current),t({type:r.SET_TOAST,payload:e}),i.current=setTimeout(()=>{t({type:r.CLEAR_TOAST})},3e3)},[t,r]),hideToast:(0,a.useCallback)(()=>{i.current&&clearTimeout(i.current),t({type:r.CLEAR_TOAST})},[t,r])}}},1021:(e,t,r)=>{"use strict";r.d(t,{L6:()=>o,Sl:()=>i,sZ:()=>n,yM:()=>s});var a=r(7163);async function n({limit:e=50,offset:t=0,upcomingOnly:r=!0}={}){try{let n=a.OQ.from("events").select(`
        *,
        organizer:users!organized_by (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company
        ),
        attendees:event_attendees(count)
      `).eq("is_active",!0).order("event_date",{ascending:!0}).range(t,t+e-1);if(r){let e=new Date().toISOString();n=n.gte("event_date",e)}let{data:s,error:i}=await n;if(i)throw i;return{data:(s||[]).map(e=>({id:e.id,title:e.title,description:e.description,category:e.category,date:e.event_date,location:e.location,isVirtual:e.is_virtual,meetingLink:e.meeting_link,maxAttendees:e.max_attendees,registrationDeadline:e.registration_deadline,agenda:e.agenda||[],tags:e.tags||[],organizer:{id:e.organizer?.id,name:`${e.organizer?.first_name||""} ${e.organizer?.last_name||""}`.trim(),avatar:e.organizer?.avatar_path||null,position:e.organizer?.current_position||"",company:e.organizer?.company||""},attendeesCount:e.attendees?.[0]?.count||0,isRegistered:!1,createdAt:e.created_at})),error:null}}catch(e){return console.error("Error fetching events:",e),{data:[],error:e}}}async function s(e){try{let{data:t,error:r}=await a.OQ.from("events").insert([{title:e.title,description:e.description,category:e.category,event_date:e.date,location:e.location,is_virtual:e.isVirtual||!1,meeting_link:e.meetingLink,max_attendees:e.maxAttendees,registration_deadline:e.registrationDeadline,agenda:e.agenda||[],tags:e.tags||[],organized_by:e.organizedBy}]).select(`
        *,
        organizer:users!organized_by (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company
        )
      `).single();if(r)throw r;return{data:{id:t.id,title:t.title,description:t.description,category:t.category,date:t.event_date,location:t.location,isVirtual:t.is_virtual,meetingLink:t.meeting_link,maxAttendees:t.max_attendees,registrationDeadline:t.registration_deadline,agenda:t.agenda||[],tags:t.tags||[],organizer:{id:t.organizer?.id,name:`${t.organizer?.first_name||""} ${t.organizer?.last_name||""}`.trim(),avatar:t.organizer?.avatar_path||null,position:t.organizer?.current_position||"",company:t.organizer?.company||""},attendeesCount:0,isRegistered:!1,createdAt:t.created_at},error:null}}catch(e){return console.error("Error creating event:",e),{data:null,error:e}}}async function i(e,t){try{let{data:r,error:n}=await a.OQ.from("event_attendees").select("id, attendance_status").eq("event_id",e).eq("user_id",t).single();if(n&&"PGRST116"!==n.code)throw n;if(r){if("cancelled"===r.attendance_status){let{error:r}=await a.OQ.from("event_attendees").update({attendance_status:"registered"}).eq("event_id",e).eq("user_id",t);if(r)throw r;return{data:{eventId:e,userId:t},error:null,isRegistered:!0}}{let{error:r}=await a.OQ.from("event_attendees").update({attendance_status:"cancelled"}).eq("event_id",e).eq("user_id",t);if(r)throw r;return{data:{eventId:e,userId:t},error:null,isRegistered:!1}}}{let{error:r}=await a.OQ.from("event_attendees").insert([{event_id:e,user_id:t,attendance_status:"registered"}]);if(r)throw r;return{data:{eventId:e,userId:t},error:null,isRegistered:!0}}}catch(e){return console.error("Error toggling event registration:",e),{data:null,error:e,isRegistered:!1}}}async function o(e,t){try{let{data:r,error:n}=await a.OQ.from("event_attendees").select("event_id, attendance_status").in("event_id",e).eq("user_id",t);if(n)throw n;let s={};return(r||[]).forEach(e=>{s[e.event_id]="registered"===e.attendance_status}),{data:s,error:null}}catch(e){return console.error("Error checking user registrations:",e),{data:{},error:e}}}},9527:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>s,NG:()=>i,bG:()=>n,lM:()=>o});var a=r(7163);async function n({limit:e=50,offset:t=0,activeOnly:r=!0}={}){try{let n=a.OQ.from("jobs").select(`
        *,
        posted_by_user:users!posted_by (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company
        )
      `).order("created_at",{ascending:!1}).range(t,t+e-1);r&&(n=n.eq("is_active",!0));let{data:s,error:i}=await n;if(i)throw i;return{data:(s||[]).map(e=>({id:e.id,title:e.title,company:e.company,location:e.location,type:e.type,experienceLevel:e.experience_level,description:e.description,salaryRange:e.salary_range,requiredSkills:e.required_skills||[],applicationUrl:e.application_url,contactEmail:e.contact_email,deadline:e.deadline,postedBy:{id:e.posted_by_user?.id,name:`${e.posted_by_user?.first_name||""} ${e.posted_by_user?.last_name||""}`.trim(),avatar:e.posted_by_user?.avatar_path||null,position:e.posted_by_user?.current_position||"",company:e.posted_by_user?.company||""},postedDate:e.created_at,isActive:e.is_active,isSaved:!1})),error:null}}catch(e){return console.error("Error fetching jobs:",e),{data:[],error:e}}}async function s(e){try{let{data:t,error:r}=await a.OQ.from("jobs").insert([{title:e.title,description:e.description,company:e.company,location:e.location,type:e.type||"job",experience_level:e.experienceLevel,salary_range:e.salaryRange,required_skills:e.requiredSkills||[],application_url:e.applicationUrl,contact_email:e.contactEmail,deadline:e.deadline,posted_by:e.postedBy}]).select(`
        *,
        posted_by_user:users!posted_by (
          id,
          first_name,
          last_name,
          avatar_path,
          current_position,
          company
        )
      `).single();if(r)throw r;return{data:{id:t.id,title:t.title,company:t.company,location:t.location,type:t.type,experienceLevel:t.experience_level,description:t.description,salaryRange:t.salary_range,requiredSkills:t.required_skills||[],applicationUrl:t.application_url,contactEmail:t.contact_email,deadline:t.deadline,postedBy:{id:t.posted_by_user?.id,name:`${t.posted_by_user?.first_name||""} ${t.posted_by_user?.last_name||""}`.trim(),avatar:t.posted_by_user?.avatar_path||null,position:t.posted_by_user?.current_position||"",company:t.posted_by_user?.company||""},postedDate:t.created_at,isActive:!0,isSaved:!1},error:null}}catch(e){return console.error("Error creating job:",e),{data:null,error:e}}}async function i(e,t){try{let{data:r,error:n}=await a.OQ.from("job_bookmarks").select("id").eq("job_id",e).eq("user_id",t).single();if(n&&"PGRST116"!==n.code)throw n;if(r){let{error:r}=await a.OQ.from("job_bookmarks").delete().eq("job_id",e).eq("user_id",t);if(r)throw r;return{data:{jobId:e,userId:t},error:null,isSaved:!1}}{let{error:r}=await a.OQ.from("job_bookmarks").insert([{job_id:e,user_id:t}]);if(r)throw r;return{data:{jobId:e,userId:t},error:null,isSaved:!0}}}catch(e){return console.error("Error toggling job bookmark:",e),{data:null,error:e,isSaved:!1}}}async function o(e,t){try{let{data:r,error:n}=await a.OQ.from("job_bookmarks").select("job_id").in("job_id",e).eq("user_id",t);if(n)throw n;let s={};return(r||[]).forEach(e=>{s[e.job_id]=!0}),{data:s,error:null}}catch(e){return console.error("Error checking user bookmarks:",e),{data:{},error:e}}}},5105:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});let a={alumni:[],jobs:[],events:[],posts:[],badges:[],leaderboard:[]},n=e=>new Promise(t=>setTimeout(t,e)),s=()=>Date.now()+Math.random().toString(36).substr(2,9);a.alumni=[{id:1,name:"Priya Sharma",email:"priya.sharma@example.com",avatar:null,branch:"Computer Science",graduationYear:2022,currentCompany:"Google",designation:"Software Engineer",location:"Bangalore, India",skills:["React","Python","Machine Learning","AWS"],linkedinUrl:"https://linkedin.com/in/priya-sharma",githubUrl:"https://github.com/priya-sharma",leetcodeUrl:"https://leetcode.com/priya-sharma",isVerified:!0,connections:234,isConnected:!1,bio:"Passionate software engineer with 3+ years of experience in full-stack development.",achievements:["Google Code Jam Finalist","Open Source Contributor"],joinedDate:"2024-01-01",lastActive:"2024-01-20"},{id:2,name:"Rahul Kumar",email:"rahul.kumar@example.com",avatar:null,branch:"Information Science",graduationYear:2021,currentCompany:"Microsoft",designation:"Senior Developer",location:"Hyderabad, India",skills:["Node.js","Azure","DevOps","Kubernetes"],linkedinUrl:"https://linkedin.com/in/rahul-kumar",githubUrl:"https://github.com/rahul-kumar",isVerified:!0,connections:189,isConnected:!1,bio:"Cloud architect and DevOps enthusiast building scalable solutions.",achievements:["Microsoft MVP","Azure Certified"],joinedDate:"2024-01-02",lastActive:"2024-01-19"},{id:3,name:"Anita Reddy",email:"anita.reddy@example.com",avatar:null,branch:"Electronics & Communication",graduationYear:2023,currentCompany:"Amazon",designation:"Product Manager",location:"Seattle, USA",skills:["Product Strategy","Analytics","Leadership","Agile"],linkedinUrl:"https://linkedin.com/in/anita-reddy",isVerified:!0,connections:156,isConnected:!0,bio:"Product manager driving innovation in e-commerce and cloud services.",achievements:["Product Launch Excellence","Team Leadership Award"],joinedDate:"2024-01-03",lastActive:"2024-01-18"},{id:4,name:"Vikram Singh",email:"vikram.singh@example.com",avatar:null,branch:"Mechanical Engineering",graduationYear:2020,currentCompany:"Tesla",designation:"Design Engineer",location:"California, USA",skills:["CAD","Manufacturing","Innovation","3D Modeling"],linkedinUrl:"https://linkedin.com/in/vikram-singh",githubUrl:"https://github.com/vikram-singh",isVerified:!0,connections:298,isConnected:!1,bio:"Mechanical engineer passionate about sustainable transportation.",achievements:["Innovation Award","Patent Holder"],joinedDate:"2024-01-04",lastActive:"2024-01-17"},{id:5,name:"Sneha Patel",email:"sneha.patel@example.com",avatar:null,branch:"Computer Science",graduationYear:2024,currentCompany:"Startup Inc",designation:"Full Stack Developer",location:"Mumbai, India",skills:["React","Node.js","MongoDB","GraphQL"],linkedinUrl:"https://linkedin.com/in/sneha-patel",githubUrl:"https://github.com/sneha-patel",leetcodeUrl:"https://leetcode.com/sneha-patel",isVerified:!1,connections:67,isConnected:!1,bio:"Fresh graduate excited about building innovative web applications.",achievements:["Hackathon Winner","Dean's List"],joinedDate:"2024-01-05",lastActive:"2024-01-20"}],a.jobs=[{id:1,title:"Senior Software Engineer",company:"Google",companyLogo:null,location:"Bangalore, India",type:"Full-time",experience:"3-5 years",salary:"₹25-35 LPA",postedBy:{id:1,name:"Priya Sharma",avatar:null,designation:"Engineering Manager"},postedDate:"2024-01-15",description:"We're looking for a senior software engineer to join our cloud infrastructure team. You'll work on building scalable systems that serve billions of users worldwide.",requirements:["3+ years of experience in software development","Strong knowledge of distributed systems","Experience with cloud platforms (GCP, AWS, Azure)","Proficiency in Go, Java, or Python"],skills:["React","Node.js","AWS","Kubernetes"],applicants:45,isBookmarked:!1,isUrgent:!1,applicationDeadline:"2024-02-15",benefits:["Health Insurance","Stock Options","Remote Work","Learning Budget"]},{id:2,title:"Product Manager",company:"Microsoft",companyLogo:null,location:"Hyderabad, India",type:"Full-time",experience:"2-4 years",salary:"₹20-30 LPA",postedBy:{id:2,name:"Rahul Kumar",avatar:null,designation:"Senior Product Manager"},postedDate:"2024-01-14",description:"Join our Azure team to drive product strategy and execution for cloud services used by millions of developers worldwide.",requirements:["2+ years of product management experience","Strong analytical and problem-solving skills","Experience with cloud technologies","Excellent communication skills"],skills:["Product Strategy","Analytics","Agile","Leadership"],applicants:32,isBookmarked:!0,isUrgent:!0,applicationDeadline:"2024-02-10",benefits:["Health Insurance","Stock Options","Flexible Hours","Career Development"]},{id:3,title:"Frontend Developer Intern",company:"Startup Inc",companyLogo:null,location:"Remote",type:"Internship",experience:"0-1 years",salary:"₹15-20k/month",postedBy:{id:5,name:"Sneha Patel",avatar:null,designation:"Tech Lead"},postedDate:"2024-01-13",description:"Great opportunity for fresh graduates to work on cutting-edge web technologies and gain hands-on experience in a fast-paced startup environment.",requirements:["Recent graduate or final year student","Knowledge of React and JavaScript","Understanding of HTML/CSS","Eagerness to learn and grow"],skills:["React","JavaScript","CSS","Git"],applicants:78,isBookmarked:!1,isUrgent:!1,applicationDeadline:"2024-02-20",benefits:["Mentorship","Learning Opportunities","Flexible Schedule","Certificate"]}],a.events=[{id:1,title:"Alumni Tech Meetup 2024",type:"Meetup",date:"2024-02-15",time:"18:00",location:"Bangalore Tech Park",mode:"offline",organizer:{id:1,name:"Priya Sharma",avatar:null,designation:"Software Engineer at Google"},description:"Join us for an evening of networking, tech talks, and career insights from industry leaders. Great opportunity to connect with fellow alumni and share experiences.",agenda:["6:00 PM - Registration & Networking","6:30 PM - Welcome Address","7:00 PM - Tech Talks","8:00 PM - Panel Discussion","9:00 PM - Networking Dinner"],maxAttendees:100,currentAttendees:67,isRegistered:!0,registrationDeadline:"2024-02-10",tags:["Networking","Technology","Career"],status:"upcoming",isPopular:!0,ticketPrice:"Free",requirements:["Valid ID","Alumni Status Verification"]},{id:2,title:"Web Development Workshop",type:"Workshop",date:"2024-02-20",time:"14:00",location:"Online",mode:"online",organizer:{id:2,name:"Rahul Kumar",avatar:null,designation:"Senior Developer at Microsoft"},description:"Learn modern web development techniques with React, Node.js, and cloud deployment. Hands-on workshop with real-world projects.",agenda:["2:00 PM - Introduction to Modern Web Dev","2:30 PM - React Fundamentals","3:30 PM - Backend with Node.js","4:30 PM - Cloud Deployment","5:30 PM - Q&A Session"],maxAttendees:50,currentAttendees:23,isRegistered:!1,registrationDeadline:"2024-02-18",tags:["Workshop","Web Development","React"],status:"upcoming",isPopular:!1,ticketPrice:"₹500",requirements:["Laptop","Basic Programming Knowledge"]}],a.posts=[{id:1,author:{id:1,name:"Priya Sharma",avatar:null,designation:"Software Engineer at Google",isVerified:!0},content:"Excited to share that our team just launched a new feature that will impact millions of users! The journey from idea to production was incredible. Grateful for the amazing team and the learning opportunities. #TechLife #Google",images:[],links:[],timestamp:"2024-01-20T10:30:00Z",likes:45,comments:[{id:1,author:{name:"Rahul Kumar",avatar:null},content:"Congratulations! That's amazing news!",timestamp:"2024-01-20T11:00:00Z"}],shares:12,isLiked:!1,commentCount:8,tags:["Technology","Achievement"]},{id:2,author:{id:3,name:"Anita Reddy",avatar:null,designation:"Product Manager at Amazon",isVerified:!0},content:"Just wrapped up an amazing product strategy session. The future of e-commerce is so exciting! Looking forward to sharing more insights at the upcoming alumni meetup. Who's joining? \uD83D\uDE80",images:[],links:[],timestamp:"2024-01-19T15:45:00Z",likes:32,comments:[],shares:8,isLiked:!0,commentCount:5,tags:["Product","Strategy","Events"]}],a.badges=[{id:1,name:"Early Adopter",description:"One of the first 100 members to join AlumniVerse",icon:"star",category:"Community",rarity:"rare",points:100,requirement:"Join within first 100 members"},{id:2,name:"Super Connector",description:"Connected with 50+ alumni",icon:"users",category:"Networking",rarity:"common",points:50,requirement:"Connect with 50 alumni"},{id:3,name:"Content Creator",description:"Posted 25+ helpful posts and updates",icon:"message-circle",category:"Engagement",rarity:"uncommon",points:75,requirement:"Create 25 posts"}],a.leaderboard=[{rank:1,user:{id:1,name:"Priya Sharma",avatar:null},points:2450,badgeCount:12},{rank:2,user:{id:2,name:"Rahul Kumar",avatar:null},points:2380,badgeCount:11},{rank:3,user:{id:3,name:"Anita Reddy",avatar:null},points:1890,badgeCount:8}];let i={async getAlumni(e={}){await n(500);let t=Array.isArray(a.alumni)?[...a.alumni]:[];return e.search&&(t=t.filter(t=>t.name.toLowerCase().includes(e.search.toLowerCase())||t.currentCompany.toLowerCase().includes(e.search.toLowerCase())||t.skills.some(t=>t.toLowerCase().includes(e.search.toLowerCase())))),e.branch&&"all"!==e.branch&&(t=t.filter(t=>t.branch===e.branch)),e.year&&"all"!==e.year&&(t=t.filter(t=>t.graduationYear===parseInt(e.year))),e.location&&"all"!==e.location&&(t=t.filter(t=>t.location.includes(e.location))),{success:!0,data:t}},async connectWithAlumni(e){await n(300);let t=a.alumni.find(t=>t.id===e);if(t)return t.isConnected=!0,t.connections+=1,{success:!0,data:t};throw Error("Alumni not found")},async getJobs(e={}){await n(400);let t=Array.isArray(a.jobs)?[...a.jobs]:[];return e.search&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.company.toLowerCase().includes(e.search.toLowerCase())||t.skills.some(t=>t.toLowerCase().includes(e.search.toLowerCase())))),e.type&&"all"!==e.type&&(t=t.filter(t=>t.type===e.type)),e.location&&"all"!==e.location&&(t=t.filter(t=>t.location===e.location)),{success:!0,data:t}},async createJob(e){await n(500);let t={id:s(),...e,postedDate:new Date().toISOString(),applicants:0,isBookmarked:!1};return a.jobs.unshift(t),{success:!0,data:t}},async toggleJobBookmark(e){await n(200);let t=a.jobs.find(t=>t.id===e);if(t)return t.isBookmarked=!t.isBookmarked,{success:!0,data:t};throw Error("Job not found")},async getEvents(e={}){await n(400);let t=Array.isArray(a.events)?[...a.events]:[];return e.search&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.description.toLowerCase().includes(e.search.toLowerCase()))),e.type&&"all"!==e.type&&(t=t.filter(t=>t.type===e.type)),e.mode&&"all"!==e.mode&&(t=t.filter(t=>t.mode===e.mode)),{success:!0,data:t}},async createEvent(e){await n(600);let t={id:s(),...e,currentAttendees:0,isRegistered:!1,status:"upcoming"};return a.events.unshift(t),{success:!0,data:t}},async toggleEventRegistration(e){await n(300);let t=a.events.find(t=>t.id===e);if(t)return t.isRegistered=!t.isRegistered,t.currentAttendees+=t.isRegistered?1:-1,{success:!0,data:t};throw Error("Event not found")},getPosts:async()=>(await n(400),{success:!0,data:Array.isArray(a.posts)?[...a.posts]:[]}),async createPost(e){await n(500);let t={id:s(),...e,timestamp:new Date().toISOString(),likes:0,comments:[],shares:0,isLiked:!1,commentCount:0};return a.posts.unshift(t),{success:!0,data:t}},async likePost(e){await n(200);let t=a.posts.find(t=>t.id===e);if(t)return t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1,{success:!0,data:t};throw Error("Post not found")},async addComment(e,t){await n(300);let r=a.posts.find(t=>t.id===e);if(r){let e={id:s(),...t,timestamp:new Date().toISOString()};return r.comments.push(e),r.commentCount+=1,{success:!0,data:e}}throw Error("Post not found")},getBadges:async()=>(await n(300),{success:!0,data:[...a.badges]}),getLeaderboard:async()=>(await n(300),{success:!0,data:[...a.leaderboard]}),updateUserProfile:async(e,t)=>(await n(500),{success:!0,data:{id:e,...t}})}},7163:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>i});var a=r(6323);let n="https://flcgwqlabywhoulqalaz.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsY2d3cWxhYnl3aG91bHFhbGF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5MDc3MDYsImV4cCI6MjA3NDQ4MzcwNn0.uWhtQvDUig4RTdxHZ_cdA3ajFbNUaEQ3oz8WYrV_R1g",i=n&&s?(0,a.eI)(n,s,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"alumniverse-frontend"}}}):function(){let e=(e="method")=>async()=>({data:null,error:Error(`Supabase is not configured. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local before using auth ${e}`)});return{auth:{getSession:e("getSession"),signInWithPassword:e("signInWithPassword"),signUp:e("signUp"),signInWithOtp:e("signInWithOtp"),resetPasswordForEmail:e("resetPasswordForEmail"),updateUser:e("updateUser"),verifyOtp:e("verifyOtp"),signOut:e("signOut"),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})}}}();n&&s?console.log("✅ Supabase client initialized successfully"):console.warn("⚠️ Supabase env not found. Define NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local")},8007:(e,t,r)=>{"use strict";function a(...e){return e.filter(Boolean).join(" ")}function n(e,t){let r;return function(...a){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...a)},t)}}function s(e){let t=["#4a90e2","#6366f1","#f59e0b","#52c41a","#ff4d4f"],r=e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),a=e.length%t.length;return{initials:r,backgroundColor:t[a],textColor:"#ffffff"}}r.d(t,{Ds:()=>n,El:()=>s,cn:()=>a})},7516:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>u});var a=r(2051);r(7272);var n=r(5347);(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/providers/AuthProvider.jsx#useAuth`);let s=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/providers/AuthProvider.jsx#AuthProvider`),i=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/contexts/AppContext.jsx#AppProvider`);(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/contexts/AppContext.jsx#useApp`),(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/contexts/AppContext.jsx#actionTypes`),(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/contexts/UserContext.jsx#useUser`);let o=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/contexts/UserContext.jsx#UserProvider`),l=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/ui/toaster.tsx#Toaster`),d=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/ui/DynamicToast.jsx#default`);(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/ui/ErrorBoundary.jsx#withErrorBoundary`);let c=(0,n.createProxy)(String.raw`/Users/vaibhavjp/Downloads/AlumniVerse/components/ui/ErrorBoundary.jsx#default`),u={title:"AlumniVerse - Professional Networking Platform",description:"Connect, engage, and thrive together with your alumni network",generator:"v0.app"};function p({children:e}){return a.jsx("html",{lang:"en",className:"font-sans antialiased",children:a.jsx("body",{className:"min-h-screen bg-[#1A1A1A] text-white",children:a.jsx(i,{children:a.jsx(s,{children:(0,a.jsxs)(o,{children:[a.jsx(c,{fallbackMessage:"The application encountered an unexpected error. Please refresh the page.",children:e}),a.jsx(l,{}),a.jsx(d,{})]})})})})})}},7272:()=>{}};