"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{1489:function(e,t,a){a.d(t,{AppProvider:function(){return c},q:function(){return u}});var n=a(7437),r=a(2265),i=a(3443);let o={user:null,isAuthenticated:!1,alumni:[],alumniFilters:{search:"",branch:"all",year:"all",location:"all",skills:""},alumniLoading:!1,jobs:[],jobFilters:{search:"",type:"all",location:"all",experience:"all"},savedJobs:[],jobsLoading:!1,events:[],eventFilters:{search:"",type:"all",mode:"all",status:"all"},registeredEvents:[],eventsLoading:!1,posts:[],postsLoading:!1,userBadges:[],availableBadges:[],leaderboard:[],userStats:{points:0,rank:0,streak:0,badgeCount:0},connections:[],connectionRequests:[],notifications:[],unreadCount:0,loading:!1,error:null,toast:null},s={SET_USER:"SET_USER",LOGOUT:"LOGOUT",SET_ALUMNI:"SET_ALUMNI",SET_ALUMNI_FILTERS:"SET_ALUMNI_FILTERS",SET_ALUMNI_LOADING:"SET_ALUMNI_LOADING",ADD_CONNECTION:"ADD_CONNECTION",SET_JOBS:"SET_JOBS",SET_JOB_FILTERS:"SET_JOB_FILTERS",SET_JOBS_LOADING:"SET_JOBS_LOADING",TOGGLE_SAVED_JOB:"TOGGLE_SAVED_JOB",ADD_JOB:"ADD_JOB",SET_EVENTS:"SET_EVENTS",SET_EVENT_FILTERS:"SET_EVENT_FILTERS",SET_EVENTS_LOADING:"SET_EVENTS_LOADING",TOGGLE_EVENT_REGISTRATION:"TOGGLE_EVENT_REGISTRATION",ADD_EVENT:"ADD_EVENT",SET_POSTS:"SET_POSTS",SET_POSTS_LOADING:"SET_POSTS_LOADING",ADD_POST:"ADD_POST",LIKE_POST:"LIKE_POST",ADD_COMMENT:"ADD_COMMENT",SET_USER_BADGES:"SET_USER_BADGES",SET_AVAILABLE_BADGES:"SET_AVAILABLE_BADGES",SET_LEADERBOARD:"SET_LEADERBOARD",UPDATE_USER_STATS:"UPDATE_USER_STATS",EARN_BADGE:"EARN_BADGE",ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_NOTIFICATION_READ:"MARK_NOTIFICATION_READ",CLEAR_NOTIFICATIONS:"CLEAR_NOTIFICATIONS",SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_TOAST:"SET_TOAST",CLEAR_TOAST:"CLEAR_TOAST"};function l(e,t){switch(t.type){case s.SET_USER:return{...e,user:t.payload,isAuthenticated:!!t.payload};case s.LOGOUT:return{...o};case s.SET_ALUMNI:return{...e,alumni:Array.isArray(t.payload)?t.payload:[],alumniLoading:!1};case s.SET_ALUMNI_FILTERS:return{...e,alumniFilters:{...e.alumniFilters,...t.payload}};case s.SET_ALUMNI_LOADING:return{...e,alumniLoading:t.payload};case s.ADD_CONNECTION:return{...e,connections:[...Array.isArray(e.connections)?e.connections:[],t.payload],alumni:Array.isArray(e.alumni)?e.alumni.map(e=>e.id===t.payload.id?{...e,isConnected:!0,connections:(e.connections||0)+1}:e):[]};case s.SET_JOBS:return{...e,jobs:Array.isArray(t.payload)?t.payload:[],jobsLoading:!1};case s.SET_JOB_FILTERS:return{...e,jobFilters:{...e.jobFilters,...t.payload}};case s.SET_JOBS_LOADING:return{...e,jobsLoading:t.payload};case s.TOGGLE_SAVED_JOB:let a=t.payload,n=e.savedJobs.includes(a);return{...e,savedJobs:n?e.savedJobs.filter(e=>e!==a):[...e.savedJobs,a],jobs:Array.isArray(e.jobs)?e.jobs.map(e=>e.id===a?{...e,isBookmarked:!e.isBookmarked}:e):[]};case s.ADD_JOB:return{...e,jobs:[t.payload,...Array.isArray(e.jobs)?e.jobs:[]]};case s.SET_EVENTS:return{...e,events:Array.isArray(t.payload)?t.payload:[],eventsLoading:!1};case s.SET_EVENT_FILTERS:return{...e,eventFilters:{...e.eventFilters,...t.payload}};case s.SET_EVENTS_LOADING:return{...e,eventsLoading:t.payload};case s.TOGGLE_EVENT_REGISTRATION:let r=t.payload,i=e.registeredEvents.includes(r);return{...e,registeredEvents:i?e.registeredEvents.filter(e=>e!==r):[...e.registeredEvents,r],events:Array.isArray(e.events)?e.events.map(e=>e.id===r?{...e,isRegistered:!e.isRegistered,currentAttendees:e.isRegistered?(e.currentAttendees||0)-1:(e.currentAttendees||0)+1}:e):[]};case s.ADD_EVENT:return{...e,events:[t.payload,...Array.isArray(e.events)?e.events:[]]};case s.SET_POSTS:return{...e,posts:Array.isArray(t.payload)?t.payload:[],postsLoading:!1};case s.SET_POSTS_LOADING:return{...e,postsLoading:t.payload};case s.ADD_POST:return{...e,posts:[t.payload,...Array.isArray(e.posts)?e.posts:[]]};case s.LIKE_POST:return{...e,posts:Array.isArray(e.posts)?e.posts.map(e=>e.id===t.payload?{...e,isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}:e):[]};case s.ADD_COMMENT:return{...e,posts:Array.isArray(e.posts)?e.posts.map(e=>e.id===t.payload.postId?{...e,comments:[...Array.isArray(e.comments)?e.comments:[],t.payload.comment],commentCount:(e.commentCount||0)+1}:e):[]};case s.SET_USER_BADGES:return{...e,userBadges:t.payload};case s.SET_AVAILABLE_BADGES:return{...e,availableBadges:t.payload};case s.SET_LEADERBOARD:return{...e,leaderboard:t.payload};case s.UPDATE_USER_STATS:return{...e,userStats:{...e.userStats,...t.payload}};case s.EARN_BADGE:return{...e,userBadges:[...e.userBadges,t.payload],userStats:{...e.userStats,badgeCount:e.userStats.badgeCount+1,points:e.userStats.points+t.payload.points}};case s.ADD_NOTIFICATION:return{...e,notifications:[t.payload,...Array.isArray(e.notifications)?e.notifications:[]],unreadCount:(e.unreadCount||0)+1};case s.MARK_NOTIFICATION_READ:return{...e,notifications:Array.isArray(e.notifications)?e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e):[],unreadCount:Math.max(0,e.unreadCount-1)};case s.CLEAR_NOTIFICATIONS:return{...e,notifications:[],unreadCount:0};case s.SET_LOADING:return{...e,loading:t.payload};case s.SET_ERROR:return{...e,error:t.payload,loading:!1};case s.SET_TOAST:return{...e,toast:t.payload};case s.CLEAR_TOAST:return{...e,toast:null};default:return e}}let d=(0,r.createContext)();function c(e){let{children:t}=e,[a,c]=(0,r.useReducer)(l,o);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{c({type:s.SET_LOADING,payload:!0});let[e,t,a,n,r,o]=await Promise.all([i.D.getAlumni(),i.D.getJobs(),i.D.getEvents(),i.D.getPosts(),i.D.getBadges(),i.D.getLeaderboard()]);c({type:s.SET_ALUMNI,payload:e}),c({type:s.SET_JOBS,payload:t}),c({type:s.SET_EVENTS,payload:a}),c({type:s.SET_POSTS,payload:n}),c({type:s.SET_AVAILABLE_BADGES,payload:r}),c({type:s.SET_LEADERBOARD,payload:o})}catch(e){c({type:s.SET_ERROR,payload:e.message})}finally{c({type:s.SET_LOADING,payload:!1})}};return(0,n.jsx)(d.Provider,{value:{state:a,dispatch:c,actionTypes:s},children:t})}function u(){let e=(0,r.useContext)(d);if(!e)throw Error("useApp must be used within an AppProvider");return e}},7566:function(e,t,a){a.d(t,{Yj:function(){return g},hI:function(){return E},C8:function(){return h},zn:function(){return S},kx:function(){return v},pm:function(){return f}});var n=a(2265),r=a(1489),i=a(5351);a(3443);var o=a(2427);async function s(){let{limit:e=50,offset:t=0,orderBy:a="created_at",ascending:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{data:r,error:i}=await o.OQ.from("posts").select("\n        *,\n        author:users!author_id (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company,\n          passing_year,\n          is_profile_complete\n        )\n      ").eq("is_deleted",!1).order(a,{ascending:n}).range(t,t+e-1);if(i)throw i;return{data:(r||[]).map(e=>{var t,a,n,r,i,o,s,l;return{id:e.id,author:{id:null===(t=e.author)||void 0===t?void 0:t.id,name:"".concat((null===(a=e.author)||void 0===a?void 0:a.first_name)||""," ").concat((null===(n=e.author)||void 0===n?void 0:n.last_name)||"").trim(),avatar:(null===(r=e.author)||void 0===r?void 0:r.avatar_path)||null,title:(null===(i=e.author)||void 0===i?void 0:i.current_position)||"Alumni Member",company:(null===(o=e.author)||void 0===o?void 0:o.company)||"",batch:(null===(s=e.author)||void 0===s?void 0:s.passing_year)||"",isVerified:(null===(l=e.author)||void 0===l?void 0:l.is_profile_complete)||!1},content:e.content,type:e.post_type,images:e.images||[],links:e.links||[],tags:e.tags||[],timestamp:e.created_at,likes:e.likes_count||0,comments:e.comments_count||0,shares:e.shares_count||0,isLiked:!1,isPinned:e.is_pinned||!1}}),error:null}}catch(e){return console.error("Error fetching posts:",e),{data:[],error:e}}}async function l(e){try{var t,a,n,r,i,s,l,d;let{data:c,error:u}=await o.OQ.from("posts").insert([{author_id:e.author_id,content:e.content,post_type:e.post_type||"general",images:e.images||[],links:e.links||[],tags:e.tags||[],visibility:e.visibility||"public"}]).select("\n        *,\n        author:users!author_id (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company,\n          passing_year,\n          is_profile_complete\n        )\n      ").single();if(u)throw u;return{data:{id:c.id,author:{id:null===(t=c.author)||void 0===t?void 0:t.id,name:"".concat((null===(a=c.author)||void 0===a?void 0:a.first_name)||""," ").concat((null===(n=c.author)||void 0===n?void 0:n.last_name)||"").trim(),avatar:(null===(r=c.author)||void 0===r?void 0:r.avatar_path)||null,title:(null===(i=c.author)||void 0===i?void 0:i.current_position)||"Alumni Member",company:(null===(s=c.author)||void 0===s?void 0:s.company)||"",batch:(null===(l=c.author)||void 0===l?void 0:l.passing_year)||"",isVerified:(null===(d=c.author)||void 0===d?void 0:d.is_profile_complete)||!1},content:c.content,type:c.post_type,images:c.images||[],links:c.links||[],tags:c.tags||[],timestamp:c.created_at,likes:0,comments:0,shares:0,isLiked:!1,isPinned:!1},error:null}}catch(e){return console.error("Error creating post:",e),{data:null,error:e}}}async function d(e,t){try{let{data:a,error:n}=await o.OQ.from("post_likes").select("id").eq("post_id",e).eq("user_id",t).single();if(n&&"PGRST116"!==n.code)throw n;if(a){let{error:a}=await o.OQ.from("post_likes").delete().eq("post_id",e).eq("user_id",t);if(a)throw a;return{data:{postId:e,userId:t},error:null,isLiked:!1}}{let{error:a}=await o.OQ.from("post_likes").insert([{post_id:e,user_id:t}]);if(a)throw a;return{data:{postId:e,userId:t},error:null,isLiked:!0}}}catch(e){return console.error("Error toggling post like:",e),{data:null,error:e,isLiked:!1}}}async function c(e,t){try{var a,n,r,i,s,l;let{data:d,error:c}=await o.OQ.from("comments").insert([{post_id:e,author_id:t.author_id,content:t.content}]).select("\n        *,\n        author:users!author_id (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company\n        )\n      ").single();if(c)throw c;return{data:{id:d.id,author:{id:null===(a=d.author)||void 0===a?void 0:a.id,name:"".concat((null===(n=d.author)||void 0===n?void 0:n.first_name)||""," ").concat((null===(r=d.author)||void 0===r?void 0:r.last_name)||"").trim(),avatar:(null===(i=d.author)||void 0===i?void 0:i.avatar_path)||null,title:(null===(s=d.author)||void 0===s?void 0:s.current_position)||"Alumni Member",company:(null===(l=d.author)||void 0===l?void 0:l.company)||""},content:d.content,timestamp:d.created_at,likes:0,isLiked:!1},error:null}}catch(e){return console.error("Error adding comment:",e),{data:null,error:e}}}async function u(e,t){try{let{data:a,error:n}=await o.OQ.from("post_likes").select("post_id").in("post_id",e).eq("user_id",t);if(n)throw n;let r={};return(a||[]).forEach(e=>{r[e.post_id]=!0}),{data:r,error:null}}catch(e){return console.error("Error checking user likes:",e),{data:{},error:e}}}var p=a(9913),m=a(8414);async function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let{search:t="",branch:a="",year:n="",location:r="",company:i="",skills:s="",page:l=1,limit:d=20,sortBy:c="first_name",sortOrder:u="asc"}=e,p=new URLSearchParams;t&&p.append("search",t),a&&p.append("branch",a),n&&p.append("year",n),r&&p.append("location",r),i&&p.append("company",i),s&&p.append("skills",s),p.append("page",l.toString()),p.append("limit",d.toString()),p.append("sortBy",c),p.append("sortOrder",u);let{data:{session:m}}=await o.OQ.auth.getSession(),y=null==m?void 0:m.access_token,_=await fetch("".concat("http://localhost:5001/api","/directory?").concat(p),{method:"GET",headers:{"Content-Type":"application/json",...y&&{Authorization:"Bearer ".concat(y)}}});if(!_.ok){let e=await _.json().catch(()=>({}));throw Error(e.message||"HTTP error! status: ".concat(_.status))}return{data:(await _.json()).data,error:null}}catch(e){return console.error("Error fetching alumni directory:",e),{data:null,error:e.message}}}async function _(e){try{let{data:{session:t}}=await o.OQ.auth.getSession();if(!(null==t?void 0:t.access_token))throw Error("Authentication required");return{data:{success:!0,message:"Connection request sent successfully",alumniId:e},error:null}}catch(e){return console.error("Error connecting with alumni:",e),{data:null,error:e.message}}}function g(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{alumni:i,alumniFilters:o,alumniLoading:s}=e,l=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t({type:a.SET_ALUMNI_LOADING,payload:!0});try{let{data:n,error:r}=await y(e);if(r)throw Error(r);let i={alumni:n.alumni||[],pagination:n.pagination||{},filters:n.filters||{}};t({type:a.SET_ALUMNI,payload:i})}catch(e){console.error("Error loading alumni:",e),t({type:a.SET_ERROR,payload:e.message})}finally{t({type:a.SET_ALUMNI_LOADING,payload:!1})}},[t,a]),d=(0,n.useCallback)(e=>{t({type:a.SET_ALUMNI_FILTERS,payload:e})},[t,a]),c=(0,n.useCallback)(async e=>{try{let{data:n,error:r}=await _(e);if(r)throw Error(r);t({type:a.ADD_CONNECTION,payload:{id:e}}),t({type:a.ADD_NOTIFICATION,payload:{id:Date.now(),type:"success",title:"Connection Request Sent",message:n.message||"Connection request sent successfully",timestamp:new Date().toISOString(),read:!1}}),t({type:a.SET_TOAST,payload:{type:"success",message:n.message||"Connection request sent successfully!"}})}catch(e){console.error("Error connecting with alumni:",e),t({type:a.SET_ERROR,payload:e.message}),t({type:a.SET_TOAST,payload:{type:"error",message:e.message||"Failed to send connection request"}})}},[t,a]);return(0,n.useEffect)(()=>{l(o)},[l,o]),{alumni:i,alumniFilters:o,alumniLoading:s,loadAlumni:l,updateFilters:d,connectWithAlumni:c}}function h(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{userProfile:o}=(0,i.a)(),{jobs:s,jobFilters:l,jobsLoading:d,savedJobs:c}=e,u=(0,n.useCallback)(async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],t({type:a.SET_JOBS_LOADING,payload:!0});try{let{data:e,error:n}=await p.bG({limit:50,activeOnly:!0});if(n)throw n;if((null==o?void 0:o.id)&&e.length>0){let t=e.map(e=>e.id),{data:a}=await p.lM(t,o.id);e.forEach(e=>{e.isSaved=a[e.id]||!1})}t({type:a.SET_JOBS,payload:e})}catch(e){console.error("Error loading jobs:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),m=(0,n.useCallback)(e=>{t({type:a.SET_JOB_FILTERS,payload:e})},[t,a]),y=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id)){t({type:a.SET_TOAST,payload:{type:"error",message:"Please log in to save jobs"}});return}try{let{isSaved:n,error:r}=await p.NG(e,o.id);if(r)throw r;t({type:a.TOGGLE_SAVED_JOB,payload:e}),t({type:a.SET_TOAST,payload:{type:"success",message:n?"Job saved successfully!":"Job removed from saved list"}})}catch(e){console.error("Error toggling job bookmark:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),_=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id))throw Error("User not authenticated");try{let{data:n,error:r}=await p.Cq({...e,postedBy:o.id});if(r)throw r;return t({type:a.ADD_JOB,payload:n}),t({type:a.SET_TOAST,payload:{type:"success",message:"Job posted successfully!"}}),n}catch(e){throw console.error("Error creating job:",e),t({type:a.SET_ERROR,payload:e.message}),e}},[t,a,o]);return(0,n.useEffect)(()=>{u(l)},[u,l]),{jobs:s,jobFilters:l,jobsLoading:d,savedJobs:c,loadJobs:u,updateFilters:m,toggleSavedJob:y,createJob:_}}function E(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{userProfile:o}=(0,i.a)(),{events:s,eventFilters:l,eventsLoading:d,registeredEvents:c}=e,u=(0,n.useCallback)(async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],t({type:a.SET_EVENTS_LOADING,payload:!0});try{let{data:e,error:n}=await m.sZ({limit:50,upcomingOnly:!0});if(n)throw n;if((null==o?void 0:o.id)&&e.length>0){let t=e.map(e=>e.id),{data:a}=await m.L6(t,o.id);e.forEach(e=>{e.isRegistered=a[e.id]||!1})}t({type:a.SET_EVENTS,payload:e})}catch(e){console.error("Error loading events:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),p=(0,n.useCallback)(e=>{t({type:a.SET_EVENT_FILTERS,payload:e})},[t,a]),y=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id)){t({type:a.SET_TOAST,payload:{type:"error",message:"Please log in to register for events"}});return}try{let{isRegistered:n,error:r}=await m.Sl(e,o.id);if(r)throw r;t({type:a.TOGGLE_EVENT_REGISTRATION,payload:e}),t({type:a.SET_TOAST,payload:{type:"success",message:n?"Successfully registered for event!":"Registration cancelled"}})}catch(e){console.error("Error toggling event registration:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),_=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id))throw Error("User not authenticated");try{let{data:n,error:r}=await m.yM({...e,organizedBy:o.id});if(r)throw r;return t({type:a.ADD_EVENT,payload:n}),t({type:a.SET_TOAST,payload:{type:"success",message:"Event created successfully!"}}),n}catch(e){throw console.error("Error creating event:",e),t({type:a.SET_ERROR,payload:e.message}),e}},[t,a,o]);return(0,n.useEffect)(()=>{u(l)},[u,l]),{events:s,eventFilters:l,eventsLoading:d,registeredEvents:c,loadEvents:u,updateFilters:p,toggleEventRegistration:y,createEvent:_}}function v(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{userProfile:o}=(0,i.a)(),{posts:p,postsLoading:m}=e,y=(0,n.useCallback)(async()=>{t({type:a.SET_POSTS_LOADING,payload:!0});try{let{data:e,error:n}=await s({limit:50});if(n)throw n;if((null==o?void 0:o.id)&&e.length>0){let t=e.map(e=>e.id),{data:a}=await u(t,o.id);e.forEach(e=>{e.isLiked=a[e.id]||!1})}t({type:a.SET_POSTS,payload:e})}catch(e){console.error("Error loading posts:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),_=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id))throw Error("User not authenticated");try{let{data:n,error:r}=await l({content:e.content,post_type:e.type||"general",images:e.images||[],links:e.links||[],tags:e.tags||[],author_id:o.id});if(r)throw r;return t({type:a.ADD_POST,payload:n}),t({type:a.SET_TOAST,payload:{type:"success",message:"Post created successfully!"}}),n}catch(e){throw console.error("Error creating post:",e),t({type:a.SET_ERROR,payload:e.message}),e}},[t,a,o]),g=(0,n.useCallback)(async e=>{if(!(null==o?void 0:o.id)){t({type:a.SET_TOAST,payload:{type:"error",message:"Please log in to like posts"}});return}try{let{error:n}=await d(e,o.id);if(n)throw n;t({type:a.LIKE_POST,payload:e})}catch(e){console.error("Error liking post:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]),h=(0,n.useCallback)(async(e,n)=>{if(!(null==o?void 0:o.id)){t({type:a.SET_TOAST,payload:{type:"error",message:"Please log in to comment"}});return}try{let{data:r,error:i}=await c(e,{author_id:o.id,content:n.content});if(i)throw i;t({type:a.ADD_COMMENT,payload:{postId:e,comment:r}})}catch(e){console.error("Error adding comment:",e),t({type:a.SET_ERROR,payload:e.message})}},[t,a,o]);return(0,n.useEffect)(()=>{y()},[y]),{posts:p,postsLoading:m,loadPosts:y,createPost:_,likePost:g,addComment:h}}function S(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{notifications:i,unreadCount:o}=e;return{notifications:i,unreadCount:o,addNotification:(0,n.useCallback)(e=>{t({type:a.ADD_NOTIFICATION,payload:{id:Date.now(),timestamp:new Date().toISOString(),read:!1,...e}})},[t,a]),markAsRead:(0,n.useCallback)(e=>{t({type:a.MARK_NOTIFICATION_READ,payload:e})},[t,a]),clearAll:(0,n.useCallback)(()=>{t({type:a.CLEAR_NOTIFICATIONS})},[t,a])}}function f(){let{state:e,dispatch:t,actionTypes:a}=(0,r.q)(),{toast:i}=e,o=(0,n.useRef)(null),s=(0,n.useCallback)(e=>{o.current&&clearTimeout(o.current),t({type:a.SET_TOAST,payload:e}),o.current=setTimeout(()=>{t({type:a.CLEAR_TOAST})},3e3)},[t,a]),l=(0,n.useCallback)(()=>{o.current&&clearTimeout(o.current),t({type:a.CLEAR_TOAST})},[t,a]);return(0,n.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[]),{toast:i,showToast:s,hideToast:l}}},8414:function(e,t,a){a.d(t,{L6:function(){return s},Sl:function(){return o},sZ:function(){return r},yM:function(){return i}});var n=a(2427);async function r(){let{limit:e=50,offset:t=0,upcomingOnly:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let r=n.OQ.from("events").select("\n        *,\n        organizer:users!organized_by (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company\n        ),\n        attendees:event_attendees(count)\n      ").eq("is_active",!0).order("event_date",{ascending:!0}).range(t,t+e-1);if(a){let e=new Date().toISOString();r=r.gte("event_date",e)}let{data:i,error:o}=await r;if(o)throw o;return{data:(i||[]).map(e=>{var t,a,n,r,i,o,s,l;return{id:e.id,title:e.title,description:e.description,category:e.category,date:e.event_date,location:e.location,isVirtual:e.is_virtual,meetingLink:e.meeting_link,maxAttendees:e.max_attendees,registrationDeadline:e.registration_deadline,agenda:e.agenda||[],tags:e.tags||[],organizer:{id:null===(t=e.organizer)||void 0===t?void 0:t.id,name:"".concat((null===(a=e.organizer)||void 0===a?void 0:a.first_name)||""," ").concat((null===(n=e.organizer)||void 0===n?void 0:n.last_name)||"").trim(),avatar:(null===(r=e.organizer)||void 0===r?void 0:r.avatar_path)||null,position:(null===(i=e.organizer)||void 0===i?void 0:i.current_position)||"",company:(null===(o=e.organizer)||void 0===o?void 0:o.company)||""},attendeesCount:(null===(l=e.attendees)||void 0===l?void 0:null===(s=l[0])||void 0===s?void 0:s.count)||0,isRegistered:!1,createdAt:e.created_at}}),error:null}}catch(e){return console.error("Error fetching events:",e),{data:[],error:e}}}async function i(e){try{var t,a,r,i,o,s;let{data:l,error:d}=await n.OQ.from("events").insert([{title:e.title,description:e.description,category:e.category,event_date:e.date,location:e.location,is_virtual:e.isVirtual||!1,meeting_link:e.meetingLink,max_attendees:e.maxAttendees,registration_deadline:e.registrationDeadline,agenda:e.agenda||[],tags:e.tags||[],organized_by:e.organizedBy}]).select("\n        *,\n        organizer:users!organized_by (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company\n        )\n      ").single();if(d)throw d;return{data:{id:l.id,title:l.title,description:l.description,category:l.category,date:l.event_date,location:l.location,isVirtual:l.is_virtual,meetingLink:l.meeting_link,maxAttendees:l.max_attendees,registrationDeadline:l.registration_deadline,agenda:l.agenda||[],tags:l.tags||[],organizer:{id:null===(t=l.organizer)||void 0===t?void 0:t.id,name:"".concat((null===(a=l.organizer)||void 0===a?void 0:a.first_name)||""," ").concat((null===(r=l.organizer)||void 0===r?void 0:r.last_name)||"").trim(),avatar:(null===(i=l.organizer)||void 0===i?void 0:i.avatar_path)||null,position:(null===(o=l.organizer)||void 0===o?void 0:o.current_position)||"",company:(null===(s=l.organizer)||void 0===s?void 0:s.company)||""},attendeesCount:0,isRegistered:!1,createdAt:l.created_at},error:null}}catch(e){return console.error("Error creating event:",e),{data:null,error:e}}}async function o(e,t){try{let{data:a,error:r}=await n.OQ.from("event_attendees").select("id, attendance_status").eq("event_id",e).eq("user_id",t).single();if(r&&"PGRST116"!==r.code)throw r;if(a){if("cancelled"===a.attendance_status){let{error:a}=await n.OQ.from("event_attendees").update({attendance_status:"registered"}).eq("event_id",e).eq("user_id",t);if(a)throw a;return{data:{eventId:e,userId:t},error:null,isRegistered:!0}}{let{error:a}=await n.OQ.from("event_attendees").update({attendance_status:"cancelled"}).eq("event_id",e).eq("user_id",t);if(a)throw a;return{data:{eventId:e,userId:t},error:null,isRegistered:!1}}}{let{error:a}=await n.OQ.from("event_attendees").insert([{event_id:e,user_id:t,attendance_status:"registered"}]);if(a)throw a;return{data:{eventId:e,userId:t},error:null,isRegistered:!0}}}catch(e){return console.error("Error toggling event registration:",e),{data:null,error:e,isRegistered:!1}}}async function s(e,t){try{let{data:a,error:r}=await n.OQ.from("event_attendees").select("event_id, attendance_status").in("event_id",e).eq("user_id",t);if(r)throw r;let i={};return(a||[]).forEach(e=>{i[e.event_id]="registered"===e.attendance_status}),{data:i,error:null}}catch(e){return console.error("Error checking user registrations:",e),{data:{},error:e}}}},9913:function(e,t,a){a.d(t,{Cq:function(){return i},NG:function(){return o},bG:function(){return r},lM:function(){return s}});var n=a(2427);async function r(){let{limit:e=50,offset:t=0,activeOnly:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let r=n.OQ.from("jobs").select("\n        *,\n        posted_by_user:users!posted_by (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company\n        )\n      ").order("created_at",{ascending:!1}).range(t,t+e-1);a&&(r=r.eq("is_active",!0));let{data:i,error:o}=await r;if(o)throw o;return{data:(i||[]).map(e=>{var t,a,n,r,i,o;return{id:e.id,title:e.title,company:e.company,location:e.location,type:e.type,experienceLevel:e.experience_level,description:e.description,salaryRange:e.salary_range,requiredSkills:e.required_skills||[],applicationUrl:e.application_url,contactEmail:e.contact_email,deadline:e.deadline,postedBy:{id:null===(t=e.posted_by_user)||void 0===t?void 0:t.id,name:"".concat((null===(a=e.posted_by_user)||void 0===a?void 0:a.first_name)||""," ").concat((null===(n=e.posted_by_user)||void 0===n?void 0:n.last_name)||"").trim(),avatar:(null===(r=e.posted_by_user)||void 0===r?void 0:r.avatar_path)||null,position:(null===(i=e.posted_by_user)||void 0===i?void 0:i.current_position)||"",company:(null===(o=e.posted_by_user)||void 0===o?void 0:o.company)||""},postedDate:e.created_at,isActive:e.is_active,isSaved:!1}}),error:null}}catch(e){return console.error("Error fetching jobs:",e),{data:[],error:e}}}async function i(e){try{var t,a,r,i,o,s;let{data:l,error:d}=await n.OQ.from("jobs").insert([{title:e.title,description:e.description,company:e.company,location:e.location,type:e.type||"job",experience_level:e.experienceLevel,salary_range:e.salaryRange,required_skills:e.requiredSkills||[],application_url:e.applicationUrl,contact_email:e.contactEmail,deadline:e.deadline,posted_by:e.postedBy}]).select("\n        *,\n        posted_by_user:users!posted_by (\n          id,\n          first_name,\n          last_name,\n          avatar_path,\n          current_position,\n          company\n        )\n      ").single();if(d)throw d;return{data:{id:l.id,title:l.title,company:l.company,location:l.location,type:l.type,experienceLevel:l.experience_level,description:l.description,salaryRange:l.salary_range,requiredSkills:l.required_skills||[],applicationUrl:l.application_url,contactEmail:l.contact_email,deadline:l.deadline,postedBy:{id:null===(t=l.posted_by_user)||void 0===t?void 0:t.id,name:"".concat((null===(a=l.posted_by_user)||void 0===a?void 0:a.first_name)||""," ").concat((null===(r=l.posted_by_user)||void 0===r?void 0:r.last_name)||"").trim(),avatar:(null===(i=l.posted_by_user)||void 0===i?void 0:i.avatar_path)||null,position:(null===(o=l.posted_by_user)||void 0===o?void 0:o.current_position)||"",company:(null===(s=l.posted_by_user)||void 0===s?void 0:s.company)||""},postedDate:l.created_at,isActive:!0,isSaved:!1},error:null}}catch(e){return console.error("Error creating job:",e),{data:null,error:e}}}async function o(e,t){try{let{data:a,error:r}=await n.OQ.from("job_bookmarks").select("id").eq("job_id",e).eq("user_id",t).single();if(r&&"PGRST116"!==r.code)throw r;if(a){let{error:a}=await n.OQ.from("job_bookmarks").delete().eq("job_id",e).eq("user_id",t);if(a)throw a;return{data:{jobId:e,userId:t},error:null,isSaved:!1}}{let{error:a}=await n.OQ.from("job_bookmarks").insert([{job_id:e,user_id:t}]);if(a)throw a;return{data:{jobId:e,userId:t},error:null,isSaved:!0}}}catch(e){return console.error("Error toggling job bookmark:",e),{data:null,error:e,isSaved:!1}}}async function s(e,t){try{let{data:a,error:r}=await n.OQ.from("job_bookmarks").select("job_id").in("job_id",e).eq("user_id",t);if(r)throw r;let i={};return(a||[]).forEach(e=>{i[e.job_id]=!0}),{data:i,error:null}}catch(e){return console.error("Error checking user bookmarks:",e),{data:{},error:e}}}},3443:function(e,t,a){a.d(t,{D:function(){return o}});let n={alumni:[],jobs:[],events:[],posts:[],badges:[],leaderboard:[]},r=e=>new Promise(t=>setTimeout(t,e)),i=()=>Date.now()+Math.random().toString(36).substr(2,9);n.alumni=[{id:1,name:"Priya Sharma",email:"priya.sharma@example.com",avatar:null,branch:"Computer Science",graduationYear:2022,currentCompany:"Google",designation:"Software Engineer",location:"Bangalore, India",skills:["React","Python","Machine Learning","AWS"],linkedinUrl:"https://linkedin.com/in/priya-sharma",githubUrl:"https://github.com/priya-sharma",leetcodeUrl:"https://leetcode.com/priya-sharma",isVerified:!0,connections:234,isConnected:!1,bio:"Passionate software engineer with 3+ years of experience in full-stack development.",achievements:["Google Code Jam Finalist","Open Source Contributor"],joinedDate:"2024-01-01",lastActive:"2024-01-20"},{id:2,name:"Rahul Kumar",email:"rahul.kumar@example.com",avatar:null,branch:"Information Science",graduationYear:2021,currentCompany:"Microsoft",designation:"Senior Developer",location:"Hyderabad, India",skills:["Node.js","Azure","DevOps","Kubernetes"],linkedinUrl:"https://linkedin.com/in/rahul-kumar",githubUrl:"https://github.com/rahul-kumar",isVerified:!0,connections:189,isConnected:!1,bio:"Cloud architect and DevOps enthusiast building scalable solutions.",achievements:["Microsoft MVP","Azure Certified"],joinedDate:"2024-01-02",lastActive:"2024-01-19"},{id:3,name:"Anita Reddy",email:"anita.reddy@example.com",avatar:null,branch:"Electronics & Communication",graduationYear:2023,currentCompany:"Amazon",designation:"Product Manager",location:"Seattle, USA",skills:["Product Strategy","Analytics","Leadership","Agile"],linkedinUrl:"https://linkedin.com/in/anita-reddy",isVerified:!0,connections:156,isConnected:!0,bio:"Product manager driving innovation in e-commerce and cloud services.",achievements:["Product Launch Excellence","Team Leadership Award"],joinedDate:"2024-01-03",lastActive:"2024-01-18"},{id:4,name:"Vikram Singh",email:"vikram.singh@example.com",avatar:null,branch:"Mechanical Engineering",graduationYear:2020,currentCompany:"Tesla",designation:"Design Engineer",location:"California, USA",skills:["CAD","Manufacturing","Innovation","3D Modeling"],linkedinUrl:"https://linkedin.com/in/vikram-singh",githubUrl:"https://github.com/vikram-singh",isVerified:!0,connections:298,isConnected:!1,bio:"Mechanical engineer passionate about sustainable transportation.",achievements:["Innovation Award","Patent Holder"],joinedDate:"2024-01-04",lastActive:"2024-01-17"},{id:5,name:"Sneha Patel",email:"sneha.patel@example.com",avatar:null,branch:"Computer Science",graduationYear:2024,currentCompany:"Startup Inc",designation:"Full Stack Developer",location:"Mumbai, India",skills:["React","Node.js","MongoDB","GraphQL"],linkedinUrl:"https://linkedin.com/in/sneha-patel",githubUrl:"https://github.com/sneha-patel",leetcodeUrl:"https://leetcode.com/sneha-patel",isVerified:!1,connections:67,isConnected:!1,bio:"Fresh graduate excited about building innovative web applications.",achievements:["Hackathon Winner","Dean's List"],joinedDate:"2024-01-05",lastActive:"2024-01-20"}],n.jobs=[{id:1,title:"Senior Software Engineer",company:"Google",companyLogo:null,location:"Bangalore, India",type:"Full-time",experience:"3-5 years",salary:"₹25-35 LPA",postedBy:{id:1,name:"Priya Sharma",avatar:null,designation:"Engineering Manager"},postedDate:"2024-01-15",description:"We're looking for a senior software engineer to join our cloud infrastructure team. You'll work on building scalable systems that serve billions of users worldwide.",requirements:["3+ years of experience in software development","Strong knowledge of distributed systems","Experience with cloud platforms (GCP, AWS, Azure)","Proficiency in Go, Java, or Python"],skills:["React","Node.js","AWS","Kubernetes"],applicants:45,isBookmarked:!1,isUrgent:!1,applicationDeadline:"2024-02-15",benefits:["Health Insurance","Stock Options","Remote Work","Learning Budget"]},{id:2,title:"Product Manager",company:"Microsoft",companyLogo:null,location:"Hyderabad, India",type:"Full-time",experience:"2-4 years",salary:"₹20-30 LPA",postedBy:{id:2,name:"Rahul Kumar",avatar:null,designation:"Senior Product Manager"},postedDate:"2024-01-14",description:"Join our Azure team to drive product strategy and execution for cloud services used by millions of developers worldwide.",requirements:["2+ years of product management experience","Strong analytical and problem-solving skills","Experience with cloud technologies","Excellent communication skills"],skills:["Product Strategy","Analytics","Agile","Leadership"],applicants:32,isBookmarked:!0,isUrgent:!0,applicationDeadline:"2024-02-10",benefits:["Health Insurance","Stock Options","Flexible Hours","Career Development"]},{id:3,title:"Frontend Developer Intern",company:"Startup Inc",companyLogo:null,location:"Remote",type:"Internship",experience:"0-1 years",salary:"₹15-20k/month",postedBy:{id:5,name:"Sneha Patel",avatar:null,designation:"Tech Lead"},postedDate:"2024-01-13",description:"Great opportunity for fresh graduates to work on cutting-edge web technologies and gain hands-on experience in a fast-paced startup environment.",requirements:["Recent graduate or final year student","Knowledge of React and JavaScript","Understanding of HTML/CSS","Eagerness to learn and grow"],skills:["React","JavaScript","CSS","Git"],applicants:78,isBookmarked:!1,isUrgent:!1,applicationDeadline:"2024-02-20",benefits:["Mentorship","Learning Opportunities","Flexible Schedule","Certificate"]}],n.events=[{id:1,title:"Alumni Tech Meetup 2024",type:"Meetup",date:"2024-02-15",time:"18:00",location:"Bangalore Tech Park",mode:"offline",organizer:{id:1,name:"Priya Sharma",avatar:null,designation:"Software Engineer at Google"},description:"Join us for an evening of networking, tech talks, and career insights from industry leaders. Great opportunity to connect with fellow alumni and share experiences.",agenda:["6:00 PM - Registration & Networking","6:30 PM - Welcome Address","7:00 PM - Tech Talks","8:00 PM - Panel Discussion","9:00 PM - Networking Dinner"],maxAttendees:100,currentAttendees:67,isRegistered:!0,registrationDeadline:"2024-02-10",tags:["Networking","Technology","Career"],status:"upcoming",isPopular:!0,ticketPrice:"Free",requirements:["Valid ID","Alumni Status Verification"]},{id:2,title:"Web Development Workshop",type:"Workshop",date:"2024-02-20",time:"14:00",location:"Online",mode:"online",organizer:{id:2,name:"Rahul Kumar",avatar:null,designation:"Senior Developer at Microsoft"},description:"Learn modern web development techniques with React, Node.js, and cloud deployment. Hands-on workshop with real-world projects.",agenda:["2:00 PM - Introduction to Modern Web Dev","2:30 PM - React Fundamentals","3:30 PM - Backend with Node.js","4:30 PM - Cloud Deployment","5:30 PM - Q&A Session"],maxAttendees:50,currentAttendees:23,isRegistered:!1,registrationDeadline:"2024-02-18",tags:["Workshop","Web Development","React"],status:"upcoming",isPopular:!1,ticketPrice:"₹500",requirements:["Laptop","Basic Programming Knowledge"]}],n.posts=[{id:1,author:{id:1,name:"Priya Sharma",avatar:null,designation:"Software Engineer at Google",isVerified:!0},content:"Excited to share that our team just launched a new feature that will impact millions of users! The journey from idea to production was incredible. Grateful for the amazing team and the learning opportunities. #TechLife #Google",images:[],links:[],timestamp:"2024-01-20T10:30:00Z",likes:45,comments:[{id:1,author:{name:"Rahul Kumar",avatar:null},content:"Congratulations! That's amazing news!",timestamp:"2024-01-20T11:00:00Z"}],shares:12,isLiked:!1,commentCount:8,tags:["Technology","Achievement"]},{id:2,author:{id:3,name:"Anita Reddy",avatar:null,designation:"Product Manager at Amazon",isVerified:!0},content:"Just wrapped up an amazing product strategy session. The future of e-commerce is so exciting! Looking forward to sharing more insights at the upcoming alumni meetup. Who's joining? \uD83D\uDE80",images:[],links:[],timestamp:"2024-01-19T15:45:00Z",likes:32,comments:[],shares:8,isLiked:!0,commentCount:5,tags:["Product","Strategy","Events"]}],n.badges=[{id:1,name:"Early Adopter",description:"One of the first 100 members to join AlumniVerse",icon:"star",category:"Community",rarity:"rare",points:100,requirement:"Join within first 100 members"},{id:2,name:"Super Connector",description:"Connected with 50+ alumni",icon:"users",category:"Networking",rarity:"common",points:50,requirement:"Connect with 50 alumni"},{id:3,name:"Content Creator",description:"Posted 25+ helpful posts and updates",icon:"message-circle",category:"Engagement",rarity:"uncommon",points:75,requirement:"Create 25 posts"}],n.leaderboard=[{rank:1,user:{id:1,name:"Priya Sharma",avatar:null},points:2450,badgeCount:12},{rank:2,user:{id:2,name:"Rahul Kumar",avatar:null},points:2380,badgeCount:11},{rank:3,user:{id:3,name:"Anita Reddy",avatar:null},points:1890,badgeCount:8}];let o={async getAlumni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r(500);let t=Array.isArray(n.alumni)?[...n.alumni]:[];return e.search&&(t=t.filter(t=>t.name.toLowerCase().includes(e.search.toLowerCase())||t.currentCompany.toLowerCase().includes(e.search.toLowerCase())||t.skills.some(t=>t.toLowerCase().includes(e.search.toLowerCase())))),e.branch&&"all"!==e.branch&&(t=t.filter(t=>t.branch===e.branch)),e.year&&"all"!==e.year&&(t=t.filter(t=>t.graduationYear===parseInt(e.year))),e.location&&"all"!==e.location&&(t=t.filter(t=>t.location.includes(e.location))),{success:!0,data:t}},async connectWithAlumni(e){await r(300);let t=n.alumni.find(t=>t.id===e);if(t)return t.isConnected=!0,t.connections+=1,{success:!0,data:t};throw Error("Alumni not found")},async getJobs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r(400);let t=Array.isArray(n.jobs)?[...n.jobs]:[];return e.search&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.company.toLowerCase().includes(e.search.toLowerCase())||t.skills.some(t=>t.toLowerCase().includes(e.search.toLowerCase())))),e.type&&"all"!==e.type&&(t=t.filter(t=>t.type===e.type)),e.location&&"all"!==e.location&&(t=t.filter(t=>t.location===e.location)),{success:!0,data:t}},async createJob(e){await r(500);let t={id:i(),...e,postedDate:new Date().toISOString(),applicants:0,isBookmarked:!1};return n.jobs.unshift(t),{success:!0,data:t}},async toggleJobBookmark(e){await r(200);let t=n.jobs.find(t=>t.id===e);if(t)return t.isBookmarked=!t.isBookmarked,{success:!0,data:t};throw Error("Job not found")},async getEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await r(400);let t=Array.isArray(n.events)?[...n.events]:[];return e.search&&(t=t.filter(t=>t.title.toLowerCase().includes(e.search.toLowerCase())||t.description.toLowerCase().includes(e.search.toLowerCase()))),e.type&&"all"!==e.type&&(t=t.filter(t=>t.type===e.type)),e.mode&&"all"!==e.mode&&(t=t.filter(t=>t.mode===e.mode)),{success:!0,data:t}},async createEvent(e){await r(600);let t={id:i(),...e,currentAttendees:0,isRegistered:!1,status:"upcoming"};return n.events.unshift(t),{success:!0,data:t}},async toggleEventRegistration(e){await r(300);let t=n.events.find(t=>t.id===e);if(t)return t.isRegistered=!t.isRegistered,t.currentAttendees+=t.isRegistered?1:-1,{success:!0,data:t};throw Error("Event not found")},getPosts:async()=>(await r(400),{success:!0,data:Array.isArray(n.posts)?[...n.posts]:[]}),async createPost(e){await r(500);let t={id:i(),...e,timestamp:new Date().toISOString(),likes:0,comments:[],shares:0,isLiked:!1,commentCount:0};return n.posts.unshift(t),{success:!0,data:t}},async likePost(e){await r(200);let t=n.posts.find(t=>t.id===e);if(t)return t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1,{success:!0,data:t};throw Error("Post not found")},async addComment(e,t){await r(300);let a=n.posts.find(t=>t.id===e);if(a){let e={id:i(),...t,timestamp:new Date().toISOString()};return a.comments.push(e),a.commentCount+=1,{success:!0,data:e}}throw Error("Post not found")},getBadges:async()=>(await r(300),{success:!0,data:[...n.badges]}),getLeaderboard:async()=>(await r(300),{success:!0,data:[...n.leaderboard]}),updateUserProfile:async(e,t)=>(await r(500),{success:!0,data:{id:e,...t}})}}}]);