(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{277:function(e,t,s){Promise.resolve().then(s.bind(s,916))},916:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),a=s(2265),n=s(2617);function o(){let[e,t]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),i=async()=>{o(!0);let e={};try{console.log("Testing health check..."),e.health=await n.ZP.health(),console.log("Testing jobs API..."),e.jobs=await n.ZP.jobs.getAll({limit:5}),console.log("Testing events API..."),e.events=await n.ZP.events.getAll({limit:5}),console.log("Testing directory API..."),e.directory=await n.ZP.directory.getAll({limit:5}),console.log("Testing storage info..."),e.storage=await n.ZP.storage.getInfo(),console.log("Testing auth health..."),e.authHealth=await n.ZP.request("/supabase-auth/health")}catch(t){console.error("Test failed:",t),e.error=t.message}t(e),o(!1)};return(0,a.useEffect)(()=>{i()},[]),(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"AlumniVerse API Test"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("button",{onClick:i,disabled:s,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:s?"Testing...":"Run Tests"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Health Check"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.health,null,2)})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Jobs API"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.jobs,null,2)})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Events API"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.events,null,2)})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Directory API"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.directory,null,2)})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Storage Info"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.storage,null,2)})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Auth Health"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify(e.authHealth,null,2)})]}),e.error&&(0,r.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded col-span-full",children:[(0,r.jsx)("strong",{className:"font-bold",children:"Error:"}),(0,r.jsxs)("span",{className:"block sm:inline",children:[" ",e.error]})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API Status Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.health?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Health Check"}),(0,r.jsx)("div",{children:e.health?"✅ Working":"❌ Failed"})]}),(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.jobs?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Jobs API"}),(0,r.jsx)("div",{children:e.jobs?"✅ Working":"❌ Failed"})]}),(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.events?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Events API"}),(0,r.jsx)("div",{children:e.events?"✅ Working":"❌ Failed"})]}),(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.directory?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Directory API"}),(0,r.jsx)("div",{children:e.directory?"✅ Working":"❌ Failed"})]}),(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.storage?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Storage API"}),(0,r.jsx)("div",{children:e.storage?"✅ Working":"❌ Failed"})]}),(0,r.jsxs)("div",{className:"p-3 rounded ".concat(e.authHealth?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,r.jsx)("div",{className:"font-semibold",children:"Auth API"}),(0,r.jsx)("div",{children:e.authHealth?"✅ Working":"❌ Failed"})]})]})]})]})}},2617:function(e,t,s){"use strict";class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseURL).concat(e),r={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(s,r),t=await e.json();if(!e.ok)throw Error(t.message||"HTTP error! status: ".concat(e.status));return t}catch(t){throw console.error("API request failed: ".concat(e),t),t}}constructor(){var e=this;this.posts={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,r=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,s]=e;null!=s&&""!==s&&r.append(t,s)});let a="/posts".concat(r.toString()?"?".concat(r.toString()):"");return e.request(a,{headers:{Authorization:"Bearer ".concat(s)}})},getById:async(e,t)=>this.request("/posts/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),create:async(e,t)=>this.request("/posts",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),update:async(e,t,s)=>this.request("/posts/".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)}),delete:async(e,t)=>this.request("/posts/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}),toggleLike:async(e,t)=>this.request("/posts/".concat(e,"/like"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})},this.jobs={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&s.append(t,r)});let r="/jobs".concat(s.toString()?"?".concat(s.toString()):"");return e.request(r)},getById:async e=>this.request("/jobs/".concat(e)),create:async(e,t)=>this.request("/jobs",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),update:async(e,t,s)=>this.request("/jobs/".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)}),delete:async(e,t)=>this.request("/jobs/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}),apply:async(e,t,s)=>this.request("/jobs/".concat(e,"/apply"),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)})},this.events={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&s.append(t,r)});let r="/events".concat(s.toString()?"?".concat(s.toString()):"");return e.request(r)},getById:async e=>this.request("/events/".concat(e)),create:async(e,t)=>this.request("/events",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),register:async(e,t)=>this.request("/events/".concat(e,"/register"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})},this.directory={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new URLSearchParams;Object.entries(t).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&s.append(t,r)});let r="/directory".concat(s.toString()?"?".concat(s.toString()):"");return e.request(r)},getById:async e=>this.request("/directory/".concat(e)),getStats:async()=>this.request("/directory/stats"),getFeatured:async()=>this.request("/directory/featured")},this.auth={signup:async e=>this.request("/supabase-auth/signup",{method:"POST",body:JSON.stringify(e)}),signin:async e=>this.request("/supabase-auth/signin",{method:"POST",body:JSON.stringify(e)}),signout:async e=>this.request("/supabase-auth/signout",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}}),getProfile:async e=>this.request("/supabase-auth/me",{headers:{Authorization:"Bearer ".concat(e)}}),forgotPassword:async e=>this.request("/supabase-auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})})},this.storage={uploadAvatar:async(e,t)=>{let s=new FormData;return s.append("avatar",e),this.request("/storage/avatar",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s})},uploadResume:async(e,t)=>{let s=new FormData;return s.append("resume",e),this.request("/storage/resume",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s})},getInfo:async()=>this.request("/storage/info")},this.health=async()=>this.request("/health"),this.baseURL="http://localhost:5001/api"}}let a=new r;t.ZP=a;let{posts:n,jobs:o,events:i,directory:c,auth:d,storage:l,health:h}=a}},function(e){e.O(0,[971,117,744],function(){return e(e.s=277)}),_N_E=e.O()}]);